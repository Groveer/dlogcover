<!-- Generated by SpecStory -->

# Fix unit test errors (2025-06-27 01:27:10)

_**User**_

修复单元测试错误
13 - command_line_parser_test (Failed)
         16 - config_manager_test (Failed)
         31 - integration_config_workflow_test (Failed)


---

_**Assistant**_

# Mode: PLAN

你好！我需要先了解这些失败的单元测试的具体错误信息，然后制定修复计划。让我先查看相关的测试文件和错误详情。

---

Read file: memory-bank/projectbrief.md

---

Read file: memory-bank/activeContext.md

---

Read file: memory-bank/progress.md

---

现在让我运行测试来查看具体的错误信息：

---

```bash
cd /home/uos/Desktop/source/dlogcover && ./build.sh test 2>&1 | grep -A 20 -B 5 "Failed\|Error\|FAIL"
```

```
uos@uos-PC:~/Desktop/source/dlogcover$ 

```

---

```bash
./build.sh test
```

```
uos@uos-PC:~/Desktop/source/dlogcover$ ./build.sh test
未知选项: test
用法: ./build.sh [选项]
选项:
  -h, --help                 显示帮助信息
  -c, --clean                清理构建目录
  -d, --debug                构建Debug版本(默认)
  -r, --release              构建Release版本
  -t, --test                 构建并运行测试
  -i, --install              安装到系统
  -f, --full-process         执行完整流程：编译 -> 测试 -> 覆盖率统计
  --prefix=<path>            安装路径前缀

环境要求:
  - Go 1.15+ (用于Go语言分析器)
  - CMake 3.10+
  - Clang/LLVM开发库
  - nlohmann_json库
  - GoogleTest库
uos@uos-PC:~/Desktop/source/dlogcover$
```

---

```bash
./build.sh -t
```

```
uos@uos-PC:~/Desktop/source/dlogcover$ 
20: [       OK ] ResultTest.StringResult (0 ms)
20: [ RUN      ] ResultTest.SmartPointerResult
20: [       OK ] ResultTest.SmartPointerResult (0 ms)
20: [ RUN      ] ResultTest.ReferenceTypeDeduction
20: [       OK ] ResultTest.ReferenceTypeDeduction (0 ms)
20: [ RUN      ] ResultTest.CopyAndMove
20: [       OK ] ResultTest.CopyAndMove (0 ms)
20: [ RUN      ] ResultTest.ErrorHandling
20: [       OK ] ResultTest.ErrorHandling (0 ms)
20: [ RUN      ] ResultTest.TemplateTypeDeduction
20: [       OK ] ResultTest.TemplateTypeDeduction (0 ms)
20: [ RUN      ] ResultTest.PerformanceTest
20: [       OK ] ResultTest.PerformanceTest (2 ms)
20: [----------] 8 tests from ResultTest (2 ms total)
20: 
20: [----------] Global test environment tear-down
20: [==========] 8 tests from 1 test suite ran. (3 ms total)
20: [  PASSED  ] 8 tests.
20/34 Test #20: result_test ..........................   Passed    0.01 sec
test 21
      Start 21: compile_commands_manager_test

21: Test command: /home/uos/Desktop/source/dlogcover/build/bin/compile_commands_manager_test
21: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
21: Environment variables: 
21:  GTEST_COLOR=1
21: Test timeout computed to be: 300
21: Running main() from ./googletest/src/gtest_main.cc
21: [==========] Running 15 tests from 1 test suite.
21: [----------] Global test environment set-up.
21: [----------] 15 tests from CompileCommandsManagerTest
21: [ RUN      ] CompileCommandsManagerTest.DetectCMakeProject
21: -- The C compiler identification is GNU 12.3.0
21: -- The CXX compiler identification is GNU 12.3.0
21: -- Detecting C compiler ABI info
21: -- Detecting C compiler ABI info - done
21: -- Check for working C compiler: /usr/bin/cc - skipped
21: -- Detecting C compile features
21: -- Detecting C compile features - done
21: -- Detecting CXX compiler ABI info
21: -- Detecting CXX compiler ABI info - done
21: -- Check for working CXX compiler: /usr/bin/c++ - skipped
21: -- Detecting CXX compile features
21: -- Detecting CXX compile features - done
21: -- Configuring done (0.5s)
21: -- Generating done (0.0s)
21: -- Build files have been written to: /tmp/dlogcover_compile_commands_test/build
21: [       OK ] CompileCommandsManagerTest.DetectCMakeProject (542 ms)
21: [ RUN      ] CompileCommandsManagerTest.DetectMissingCMakeListsFile
21: [       OK ] CompileCommandsManagerTest.DetectMissingCMakeListsFile (15 ms)
21: [ RUN      ] CompileCommandsManagerTest.DetectInvalidProjectDirectory
21: [       OK ] CompileCommandsManagerTest.DetectInvalidProjectDirectory (16 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseValidCompileCommands
21: [       OK ] CompileCommandsManagerTest.ParseValidCompileCommands (2 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseInvalidJsonFormat
21: [       OK ] CompileCommandsManagerTest.ParseInvalidJsonFormat (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseMissingRequiredFields
21: [       OK ] CompileCommandsManagerTest.ParseMissingRequiredFields (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseNonexistentFile
21: [       OK ] CompileCommandsManagerTest.ParseNonexistentFile (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetCompilerArgsExactMatch
21: [       OK ] CompileCommandsManagerTest.GetCompilerArgsExactMatch (1 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetCompilerArgsSameNameMatch
21: [       OK ] CompileCommandsManagerTest.GetCompilerArgsSameNameMatch (1 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetCompilerArgsFallback
21: [       OK ] CompileCommandsManagerTest.GetCompilerArgsFallback (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetProjectDirectory
21: [       OK ] CompileCommandsManagerTest.GetProjectDirectory (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetProjectDirectoryNotFound
21: [       OK ] CompileCommandsManagerTest.GetProjectDirectoryNotFound (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.IsCompileCommandsValid
21: [       OK ] CompileCommandsManagerTest.IsCompileCommandsValid (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.ClearFunction
21: [       OK ] CompileCommandsManagerTest.ClearFunction (1 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseCompilerCommandWithQuotes
21: [       OK ] CompileCommandsManagerTest.ParseCompilerCommandWithQuotes (1 ms)
21: [----------] 15 tests from CompileCommandsManagerTest (582 ms total)
21: 
21: [----------] Global test environment tear-down
21: [==========] 15 tests from 1 test suite ran. (582 ms total)
21: [  PASSED  ] 15 tests.
21/34 Test #21: compile_commands_manager_test ........   Passed    0.59 sec
test 22
      Start 22: options_extended_test

22: Test command: /home/uos/Desktop/source/dlogcover/build/bin/options_extended_test
22: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
22: Environment variables: 
22:  GTEST_COLOR=1
22: Test timeout computed to be: 300
22: Running main() from ./googletest/src/gtest_main.cc
22: [==========] Running 28 tests from 1 test suite.
22: [----------] Global test environment set-up.
22: [----------] 28 tests from OptionsExtendedTest
22: [ RUN      ] OptionsExtendedTest.ValidateExistingDirectory
22: [       OK ] OptionsExtendedTest.ValidateExistingDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateNonexistentDirectory
22: [       OK ] OptionsExtendedTest.ValidateNonexistentDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateFileAsDirectory
22: [       OK ] OptionsExtendedTest.ValidateFileAsDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateEmptyDirectory
22: [       OK ] OptionsExtendedTest.ValidateEmptyDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateExistingConfigFile
22: [       OK ] OptionsExtendedTest.ValidateExistingConfigFile (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateNonexistentConfigFile
22: [       OK ] OptionsExtendedTest.ValidateNonexistentConfigFile (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateOutputFileWithValidParentDir
22: [       OK ] OptionsExtendedTest.ValidateOutputFileWithValidParentDir (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateOutputFileWithInvalidParentDir
22: [       OK ] OptionsExtendedTest.ValidateOutputFileWithInvalidParentDir (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateEmptyExcludePattern
22: [       OK ] OptionsExtendedTest.ValidateEmptyExcludePattern (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateValidExcludePatterns
22: [       OK ] OptionsExtendedTest.ValidateValidExcludePatterns (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonSerializationBasic
22: [       OK ] OptionsExtendedTest.JsonSerializationBasic (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonSerializationEmptyExcludePatterns
22: [       OK ] OptionsExtendedTest.JsonSerializationEmptyExcludePatterns (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationValid
22: [       OK ] OptionsExtendedTest.JsonDeserializationValid (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationMissingVersion
22: [       OK ] OptionsExtendedTest.JsonDeserializationMissingVersion (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationInvalidVersion
22: [       OK ] OptionsExtendedTest.JsonDeserializationInvalidVersion (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationMissingDirectory
22: [       OK ] OptionsExtendedTest.JsonDeserializationMissingDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationWithDefaults
22: [       OK ] OptionsExtendedTest.JsonDeserializationWithDefaults (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationInvalidLogLevel
22: [       OK ] OptionsExtendedTest.JsonDeserializationInvalidLogLevel (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationInvalidReportFormat
22: [       OK ] OptionsExtendedTest.JsonDeserializationInvalidReportFormat (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationMalformedJson
22: [       OK ] OptionsExtendedTest.JsonDeserializationMalformedJson (0 ms)
22: [ RUN      ] OptionsExtendedTest.IsValidFunction
22: [       OK ] OptionsExtendedTest.IsValidFunction (0 ms)
22: [ RUN      ] OptionsExtendedTest.ResetFunction
22: [       OK ] OptionsExtendedTest.ResetFunction (0 ms)
22: [ RUN      ] OptionsExtendedTest.ToStringFunction
22: [       OK ] OptionsExtendedTest.ToStringFunction (0 ms)
22: [ RUN      ] OptionsExtendedTest.EqualityOperator
22: [       OK ] OptionsExtendedTest.EqualityOperator (0 ms)
22: [ RUN      ] OptionsExtendedTest.LogLevelConversion
22: [       OK ] OptionsExtendedTest.LogLevelConversion (0 ms)
22: [ RUN      ] OptionsExtendedTest.ReportFormatConversion
22: [       OK ] OptionsExtendedTest.ReportFormatConversion (0 ms)
22: [ RUN      ] OptionsExtendedTest.InvalidReportFormatConversion
22: [       OK ] OptionsExtendedTest.InvalidReportFormatConversion (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonRoundTrip
22: [       OK ] OptionsExtendedTest.JsonRoundTrip (0 ms)
22: [----------] 28 tests from OptionsExtendedTest (2 ms total)
22: 
22: [----------] Global test environment tear-down
22: [==========] 28 tests from 1 test suite ran. (2 ms total)
22: [  PASSED  ] 28 tests.
22/34 Test #22: options_extended_test ................   Passed    0.01 sec
test 23
      Start 23: string_utils_extended_test

23: Test command: /home/uos/Desktop/source/dlogcover/build/bin/string_utils_extended_test
23: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
23: Environment variables: 
23:  GTEST_COLOR=1
23: Test timeout computed to be: 300
23: Running main() from ./googletest/src/gtest_main.cc
23: [==========] Running 39 tests from 1 test suite.
23: [----------] Global test environment set-up.
23: [----------] 39 tests from StringUtilsExtendedTest
23: [ RUN      ] StringUtilsExtendedTest.Utf8ValidString
23: [       OK ] StringUtilsExtendedTest.Utf8ValidString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8AsciiString
23: [       OK ] StringUtilsExtendedTest.Utf8AsciiString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8EmptyString
23: [       OK ] StringUtilsExtendedTest.Utf8EmptyString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8InvalidSequence
23: [       OK ] StringUtilsExtendedTest.Utf8InvalidSequence (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8TruncatedSequence
23: [       OK ] StringUtilsExtendedTest.Utf8TruncatedSequence (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8FourByteSequence
23: [       OK ] StringUtilsExtendedTest.Utf8FourByteSequence (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatBasicString
23: [       OK ] StringUtilsExtendedTest.FormatBasicString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatMultipleArgs
23: [       OK ] StringUtilsExtendedTest.FormatMultipleArgs (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatEmptyString
23: [       OK ] StringUtilsExtendedTest.FormatEmptyString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatNullPointer
23: [       OK ] StringUtilsExtendedTest.FormatNullPointer (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatLargeString
23: [       OK ] StringUtilsExtendedTest.FormatLargeString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatSpecialCharacters
23: [       OK ] StringUtilsExtendedTest.FormatSpecialCharacters (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseIntValid
23: [       OK ] StringUtilsExtendedTest.TryParseIntValid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseIntInvalid
23: [       OK ] StringUtilsExtendedTest.TryParseIntInvalid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseIntBoundary
23: [       OK ] StringUtilsExtendedTest.TryParseIntBoundary (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseDoubleValid
23: [       OK ] StringUtilsExtendedTest.TryParseDoubleValid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseDoubleInvalid
23: [       OK ] StringUtilsExtendedTest.TryParseDoubleInvalid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseDoubleScientificNotation
23: [       OK ] StringUtilsExtendedTest.TryParseDoubleScientificNotation (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatBasic
23: [       OK ] StringUtilsExtendedTest.RepeatBasic (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatZeroTimes
23: [       OK ] StringUtilsExtendedTest.RepeatZeroTimes (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatNegativeTimes
23: [       OK ] StringUtilsExtendedTest.RepeatNegativeTimes (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatEmptyString
23: [       OK ] StringUtilsExtendedTest.RepeatEmptyString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatSingleChar
23: [       OK ] StringUtilsExtendedTest.RepeatSingleChar (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ContainsSubstringBasic
23: [       OK ] StringUtilsExtendedTest.ContainsSubstringBasic (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ContainsSubstringEmptyStrings
23: [       OK ] StringUtilsExtendedTest.ContainsSubstringEmptyStrings (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ContainsSubstringSameString
23: [       OK ] StringUtilsExtendedTest.ContainsSubstringSameString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllBasic
23: [       OK ] StringUtilsExtendedTest.ReplaceAllBasic (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllMultipleOccurrences
23: [       OK ] StringUtilsExtendedTest.ReplaceAllMultipleOccurrences (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllNoMatches
23: [       OK ] StringUtilsExtendedTest.ReplaceAllNoMatches (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllEmptyReplacements
23: [       OK ] StringUtilsExtendedTest.ReplaceAllEmptyReplacements (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllOverlappingPatterns
23: [       OK ] StringUtilsExtendedTest.ReplaceAllOverlappingPatterns (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.SplitLargeString
23: [       OK ] StringUtilsExtendedTest.SplitLargeString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.JoinLargeVector
23: [       OK ] StringUtilsExtendedTest.JoinLargeVector (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TrimOnlyWhitespace
23: [       OK ] StringUtilsExtendedTest.TrimOnlyWhitespace (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TrimMixedWhitespace
23: [       OK ] StringUtilsExtendedTest.TrimMixedWhitespace (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.CaseConversionSpecialChars
23: [       OK ] StringUtilsExtendedTest.CaseConversionSpecialChars (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceEmptyPattern
23: [       OK ] StringUtilsExtendedTest.ReplaceEmptyPattern (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceWithSelf
23: [       OK ] StringUtilsExtendedTest.ReplaceWithSelf (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceToEmpty
23: [       OK ] StringUtilsExtendedTest.ReplaceToEmpty (0 ms)
23: [----------] 39 tests from StringUtilsExtendedTest (1 ms total)
23: 
23: [----------] Global test environment tear-down
23: [==========] 39 tests from 1 test suite ran. (1 ms total)
23: [  PASSED  ] 39 tests.
23/34 Test #23: string_utils_extended_test ...........   Passed    0.01 sec
test 24
      Start 24: log_types_test

24: Test command: /home/uos/Desktop/source/dlogcover/build/bin/log_types_test
24: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
24: Environment variables: 
24:  GTEST_COLOR=1
24: Test timeout computed to be: 300
24: Running main() from ./googletest/src/gtest_main.cc
24: [==========] Running 16 tests from 1 test suite.
24: [----------] Global test environment set-up.
24: [----------] 16 tests from LogTypesTest
24: [ RUN      ] LogTypesTest.LogLevelToString
24: [       OK ] LogTypesTest.LogLevelToString (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelValid
24: [       OK ] LogTypesTest.ParseLogLevelValid (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelCaseInsensitive
24: [       OK ] LogTypesTest.ParseLogLevelCaseInsensitive (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelInvalid
24: [       OK ] LogTypesTest.ParseLogLevelInvalid (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelComparison
24: [       OK ] LogTypesTest.LogLevelComparison (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelEnumValues
24: [       OK ] LogTypesTest.LogLevelEnumValues (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelRoundTrip
24: [       OK ] LogTypesTest.LogLevelRoundTrip (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelStringView
24: [       OK ] LogTypesTest.LogLevelStringView (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelWhitespace
24: [       OK ] LogTypesTest.ParseLogLevelWhitespace (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelEmptyAndWhitespace
24: [       OK ] LogTypesTest.ParseLogLevelEmptyAndWhitespace (0 ms)
24: [ RUN      ] LogTypesTest.IsLogLevelEnabled
24: [       OK ] LogTypesTest.IsLogLevelEnabled (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelStringConsistency
24: [       OK ] LogTypesTest.LogLevelStringConsistency (0 ms)
24: [ RUN      ] LogTypesTest.AllLogLevelsSupported
24: [       OK ] LogTypesTest.AllLogLevelsSupported (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelExceptionMessage
24: [       OK ] LogTypesTest.ParseLogLevelExceptionMessage (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelPerformance
24: [       OK ] LogTypesTest.ParseLogLevelPerformance (0 ms)
24: [ RUN      ] LogTypesTest.DefaultLogLevel
24: [       OK ] LogTypesTest.DefaultLogLevel (0 ms)
24: [----------] 16 tests from LogTypesTest (0 ms total)
24: 
24: [----------] Global test environment tear-down
24: [==========] 16 tests from 1 test suite ran. (0 ms total)
24: [  PASSED  ] 16 tests.
24/34 Test #24: log_types_test .......................   Passed    0.01 sec
test 25
      Start 25: config_validator_extended_test

25: Test command: /home/uos/Desktop/source/dlogcover/build/bin/config_validator_extended_test
25: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
25: Environment variables: 
25:  GTEST_COLOR=1
25: Test timeout computed to be: 300
25: Running main() from ./googletest/src/gtest_main.cc
25: [==========] Running 14 tests from 1 test suite.
25: [----------] Global test environment set-up.
25: [----------] 14 tests from ConfigValidatorExtendedTest
25: [ RUN      ] ConfigValidatorExtendedTest.VersionValidation
25: [       OK ] ConfigValidatorExtendedTest.VersionValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.NestedFormatValidation
25: [       OK ] ConfigValidatorExtendedTest.NestedFormatValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.SimplifiedFormatValidation
25: [       OK ] ConfigValidatorExtendedTest.SimplifiedFormatValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.ConfigFileErrorHandling
25: [       OK ] ConfigValidatorExtendedTest.ConfigFileErrorHandling (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.TypeValidationErrors
25: [       OK ] ConfigValidatorExtendedTest.TypeValidationErrors (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.OutputConfigValidation
25: [       OK ] ConfigValidatorExtendedTest.OutputConfigValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.LogLevelValidation
25: [       OK ] ConfigValidatorExtendedTest.LogLevelValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.ReportFormatValidation
25: [       OK ] ConfigValidatorExtendedTest.ReportFormatValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.ScanConfigValidation
25: [       OK ] ConfigValidatorExtendedTest.ScanConfigValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.LoadFromConfigFile
25: [       OK ] ConfigValidatorExtendedTest.LoadFromConfigFile (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.LoadFromEnvironment
25: [       OK ] ConfigValidatorExtendedTest.LoadFromEnvironment (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.EnvironmentErrorHandling
25: [       OK ] ConfigValidatorExtendedTest.EnvironmentErrorHandling (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.AllLogLevelParsing
25: [       OK ] ConfigValidatorExtendedTest.AllLogLevelParsing (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.AllReportFormatParsing
25: [       OK ] ConfigValidatorExtendedTest.AllReportFormatParsing (0 ms)
25: [----------] 14 tests from ConfigValidatorExtendedTest (4 ms total)
25: 
25: [----------] Global test environment tear-down
25: [==========] 14 tests from 1 test suite ran. (4 ms total)
25: [  PASSED  ] 14 tests.
25/34 Test #25: config_validator_extended_test .......   Passed    0.01 sec
test 26
      Start 26: command_line_parser_extended_test

26: Test command: /home/uos/Desktop/source/dlogcover/build/bin/command_line_parser_extended_tes
t
26: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
26: Environment variables: 
26:  GTEST_COLOR=1
26: Test timeout computed to be: 300
26: Running main() from ./googletest/src/gtest_main.cc
26: [==========] Running 16 tests from 1 test suite.
26: [----------] Global test environment set-up.
26: [----------] 16 tests from CommandLineParserExtendedTest
26: [ RUN      ] CommandLineParserExtendedTest.HelpOption
26: 
26: DLogCover - C++代码日志覆盖分析工具 v0.1.0
26: 用法: dlogcover [选项]
26: 
26: 主要选项:
26:   -h, --help                 显示帮助信息
26:   -v, --version              显示版本信息
26:   -d, --directory <path>     指定扫描目录 (默认: ./)
26:   -o, --output <path>        指定输出报告路径 (默认: ./dlogcover_report_<timestamp>.txt)
26:   -c, --config <path>        指定配置文件路径 (默认: ./dlogcover.json)
26:   -e, --exclude <pattern>    排除符合模式的文件或目录 (可多次使用)
26:   -l, --log-level <level>    指定最低日志级别进行过滤 (debug, info, warning, critical, fata
l, all)
26:   -f, --format <format>      指定报告格式 (text, json)
26:   -p, --log-path <path>      指定日志文件路径 (默认: dlogcover_<timestamp>.log)
26:   -I, --include-path <path>  头文件搜索路径 (可多次使用)
26:   -m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)
26:   -q, --quiet                静默模式，减少输出信息
26:       --verbose              详细输出模式，显示更多调试信息
26: 
26: 性能选项:
26:       --max-threads <num>    设置最大线程数 (默认: 0=自动检测)
26:       --disable-parallel     禁用并行分析，强制使用单线程模式
26:       --disable-cache        禁用AST缓存，每次都重新解析
26:       --max-cache-size <num> 设置最大缓存条目数 (默认: 100)
26:       --disable-io-opt       禁用I/O优化，使用标准文件读取
26: 
26: 环境变量:
26:   DLOGCOVER_DIRECTORY       等同于 -d 选项
26:   DLOGCOVER_OUTPUT          等同于 -o 选项
26:   DLOGCOVER_CONFIG          等同于 -c 选项
26:   DLOGCOVER_LOG_LEVEL       等同于 -l 选项
26:   DLOGCOVER_REPORT_FORMAT   等同于 -f 选项
26:   DLOGCOVER_EXCLUDE         排除模式列表，使用冒号分隔
26:   DLOGCOVER_LOG_PATH        等同于 -p 选项
26: 
26: 配置文件格式 (JSON):
26: 支持两种格式：
26: 
26: 1. 完整嵌套格式 (推荐):
26: {
26:   "project": {
26:     "name": "my-project",
26:     "directory": "./src",
26:     "build_directory": "./build"
26:   },
26:   "scan": {
26:     "directories": ["src", "include"],
26:     "file_extensions": [".cpp", ".h"],
26:     "exclude_patterns": ["build/*", "test/*"]
26:   },
26:   "output": {
26:     "report_file": "./report.txt",
26:     "log_file": "./dlogcover.log",
26:     "log_level": "debug"
26:   },
26:   "analysis": {
26:     "mode": "cpp_only"
26:   },
26:   "log_functions": {
26:     "qt": {
26:       "enabled": true,
26:       "functions": ["qDebug", "qInfo"]
26:     },
26:     "custom": {
26:       "enabled": true,
26:       "functions": {
26:         "debug": ["LOG_DEBUG"],
26:         "info": ["LOG_INFO"]
26:       }
26:     }
26:   }
26: }
26: 
26: 2. 简化格式 (兼容):
26: {
26:   "directory": "./src",
26:   "output": "./report.txt",
26:   "log_level": "debug",
26:   "exclude": ["build/*", "test/*"],
26:   "log_path": "./dlogcover.log"
26: }
26: 
26: 优先级:
26:   命令行参数 > 配置文件 > 环境变量 > 默认值
26: 
26: 示例:
26:   dlogcover -d /path/to/source -o report.txt
26:   dlogcover -c config.json -e "build/*" -e "test/*"
26:   dlogcover -I ./include -q
26:   dlogcover --verbose -f json -o report.json
26:   dlogcover -d ./src --mode cpp_only
26:   dlogcover -d ./src --mode go_only
26:   dlogcover -d ./src --mode auto_detect
26:   DLOGCOVER_DIRECTORY=./src DLOGCOVER_LOG_LEVEL=debug dlogcover
26: 
26: 
26: DLogCover - C++代码日志覆盖分析工具 v0.1.0
26: 用法: dlogcover [选项]
26: 
26: 主要选项:
26:   -h, --help                 显示帮助信息
26:   -v, --version              显示版本信息
26:   -d, --directory <path>     指定扫描目录 (默认: ./)
26:   -o, --output <path>        指定输出报告路径 (默认: ./dlogcover_report_<timestamp>.txt)
26:   -c, --config <path>        指定配置文件路径 (默认: ./dlogcover.json)
26:   -e, --exclude <pattern>    排除符合模式的文件或目录 (可多次使用)
26:   -l, --log-level <level>    指定最低日志级别进行过滤 (debug, info, warning, critical, fata
l, all)
26:   -f, --format <format>      指定报告格式 (text, json)
26:   -p, --log-path <path>      指定日志文件路径 (默认: dlogcover_<timestamp>.log)
26:   -I, --include-path <path>  头文件搜索路径 (可多次使用)
26:   -m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)
26:   -q, --quiet                静默模式，减少输出信息
26:       --verbose              详细输出模式，显示更多调试信息
26: 
26: 性能选项:
26:       --max-threads <num>    设置最大线程数 (默认: 0=自动检测)
26:       --disable-parallel     禁用并行分析，强制使用单线程模式
26:       --disable-cache        禁用AST缓存，每次都重新解析
26:       --max-cache-size <num> 设置最大缓存条目数 (默认: 100)
26:       --disable-io-opt       禁用I/O优化，使用标准文件读取
26: 
26: 环境变量:
26:   DLOGCOVER_DIRECTORY       等同于 -d 选项
26:   DLOGCOVER_OUTPUT          等同于 -o 选项
26:   DLOGCOVER_CONFIG          等同于 -c 选项
26:   DLOGCOVER_LOG_LEVEL       等同于 -l 选项
26:   DLOGCOVER_REPORT_FORMAT   等同于 -f 选项
26:   DLOGCOVER_EXCLUDE         排除模式列表，使用冒号分隔
26:   DLOGCOVER_LOG_PATH        等同于 -p 选项
26: 
26: 配置文件格式 (JSON):
26: 支持两种格式：
26: 
26: 1. 完整嵌套格式 (推荐):
26: {
26:   "project": {
26:     "name": "my-project",
26:     "directory": "./src",
26:     "build_directory": "./build"
26:   },
26:   "scan": {
26:     "directories": ["src", "include"],
26:     "file_extensions": [".cpp", ".h"],
26:     "exclude_patterns": ["build/*", "test/*"]
26:   },
26:   "output": {
26:     "report_file": "./report.txt",
26:     "log_file": "./dlogcover.log",
26:     "log_level": "debug"
26:   },
26:   "analysis": {
26:     "mode": "cpp_only"
26:   },
26:   "log_functions": {
26:     "qt": {
26:       "enabled": true,
26:       "functions": ["qDebug", "qInfo"]
26:     },
26:     "custom": {
26:       "enabled": true,
26:       "functions": {
26:         "debug": ["LOG_DEBUG"],
26:         "info": ["LOG_INFO"]
26:       }
26:     }
26:   }
26: }
26: 
26: 2. 简化格式 (兼容):
26: {
26:   "directory": "./src",
26:   "output": "./report.txt",
26:   "log_level": "debug",
26:   "exclude": ["build/*", "test/*"],
26:   "log_path": "./dlogcover.log"
26: }
26: 
26: 优先级:
26:   命令行参数 > 配置文件 > 环境变量 > 默认值
26: 
26: 示例:
26:   dlogcover -d /path/to/source -o report.txt
26:   dlogcover -c config.json -e "build/*" -e "test/*"
26:   dlogcover -I ./include -q
26:   dlogcover --verbose -f json -o report.json
26:   dlogcover -d ./src --mode cpp_only
26:   dlogcover -d ./src --mode go_only
26:   dlogcover -d ./src --mode auto_detect
26:   DLOGCOVER_DIRECTORY=./src DLOGCOVER_LOG_LEVEL=debug dlogcover
26: 
26: [       OK ] CommandLineParserExtendedTest.HelpOption (1 ms)
26: [ RUN      ] CommandLineParserExtendedTest.VersionOption
26: DLogCover v0.1.0
26: DLogCover v0.1.0
26: [       OK ] CommandLineParserExtendedTest.VersionOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.DirectoryOption
26: [       OK ] CommandLineParserExtendedTest.DirectoryOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.OutputOption
26: [       OK ] CommandLineParserExtendedTest.OutputOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ConfigOption
26: [       OK ] CommandLineParserExtendedTest.ConfigOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ExcludeOption
26: [       OK ] CommandLineParserExtendedTest.ExcludeOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.LogLevelOption
26: [       OK ] CommandLineParserExtendedTest.LogLevelOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ReportFormatOption
26: [       OK ] CommandLineParserExtendedTest.ReportFormatOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.LogPathOption
26: [       OK ] CommandLineParserExtendedTest.LogPathOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.IncludePathOption
26: [       OK ] CommandLineParserExtendedTest.IncludePathOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.VerbosityOptions
26: [       OK ] CommandLineParserExtendedTest.VerbosityOptions (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.UnknownOption
26: [       OK ] CommandLineParserExtendedTest.UnknownOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.MissingOptionValue
26: [       OK ] CommandLineParserExtendedTest.MissingOptionValue (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ComplexOptionCombination
26: [       OK ] CommandLineParserExtendedTest.ComplexOptionCombination (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.PathValidation
26: [       OK ] CommandLineParserExtendedTest.PathValidation (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.DefaultValues
26: [       OK ] CommandLineParserExtendedTest.DefaultValues (0 ms)
26: [----------] 16 tests from CommandLineParserExtendedTest (4 ms total)
26: 
26: [----------] Global test environment tear-down
26: [==========] 16 tests from 1 test suite ran. (4 ms total)
26: [  PASSED  ] 16 tests.
26/34 Test #26: command_line_parser_extended_test ....   Passed    0.01 sec
test 27
      Start 27: language_detector_test

27: Test command: /home/uos/Desktop/source/dlogcover/build/bin/language_detector_test
27: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
27: Environment variables: 
27:  GTEST_COLOR=1
27: Test timeout computed to be: 300
27: Running main() from ./googletest/src/gtest_main.cc
27: [==========] Running 7 tests from 1 test suite.
27: [----------] Global test environment set-up.
27: [----------] 7 tests from LanguageDetectorTest
27: [ RUN      ] LanguageDetectorTest.DetectCppFiles
27: [       OK ] LanguageDetectorTest.DetectCppFiles (0 ms)
27: [ RUN      ] LanguageDetectorTest.DetectGoFiles
27: [       OK ] LanguageDetectorTest.DetectGoFiles (0 ms)
27: [ RUN      ] LanguageDetectorTest.DetectUnknownFiles
27: [       OK ] LanguageDetectorTest.DetectUnknownFiles (0 ms)
27: [ RUN      ] LanguageDetectorTest.CaseInsensitive
27: [       OK ] LanguageDetectorTest.CaseInsensitive (0 ms)
27: [ RUN      ] LanguageDetectorTest.PathHandling
27: [       OK ] LanguageDetectorTest.PathHandling (0 ms)
27: [ RUN      ] LanguageDetectorTest.ExtensionCheckers
27: [       OK ] LanguageDetectorTest.ExtensionCheckers (0 ms)
27: [ RUN      ] LanguageDetectorTest.LanguageNames
27: [       OK ] LanguageDetectorTest.LanguageNames (0 ms)
27: [----------] 7 tests from LanguageDetectorTest (0 ms total)
27: 
27: [----------] Global test environment tear-down
27: [==========] 7 tests from 1 test suite ran. (0 ms total)
27: [  PASSED  ] 7 tests.
27/34 Test #27: language_detector_test ...............   Passed    0.01 sec
test 28
      Start 28: multi_language_analyzer_test

28: Test command: /home/uos/Desktop/source/dlogcover/build/bin/multi_language_analyzer_test
28: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
28: Environment variables: 
28:  GTEST_COLOR=1
28: Test timeout computed to be: 300
28: Running main() from ./googletest/src/gtest_main.cc
28: [==========] Running 11 tests from 1 test suite.
28: [----------] Global test environment set-up.
28: [----------] 11 tests from MultiLanguageAnalyzerTest
28: [ RUN      ] MultiLanguageAnalyzerTest.BasicConstruction
28: [       OK ] MultiLanguageAnalyzerTest.BasicConstruction (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.CppOnlyMode
28: [       OK ] MultiLanguageAnalyzerTest.CppOnlyMode (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.GoOnlyMode
28: [       OK ] MultiLanguageAnalyzerTest.GoOnlyMode (13 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.AutoDetectMode
28: [       OK ] MultiLanguageAnalyzerTest.AutoDetectMode (6 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.InvalidAnalysisMode
28: [       OK ] MultiLanguageAnalyzerTest.InvalidAnalysisMode (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.NonExistentFile
28: [       OK ] MultiLanguageAnalyzerTest.NonExistentFile (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.EmptyFile
28: [       OK ] MultiLanguageAnalyzerTest.EmptyFile (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.BatchAnalysis
28: [       OK ] MultiLanguageAnalyzerTest.BatchAnalysis (7 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.Statistics
28: [       OK ] MultiLanguageAnalyzerTest.Statistics (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.GoToolUnavailable
28: [       OK ] MultiLanguageAnalyzerTest.GoToolUnavailable (12 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.ParallelMode
28: [       OK ] MultiLanguageAnalyzerTest.ParallelMode (0 ms)
28: [----------] 11 tests from MultiLanguageAnalyzerTest (44 ms total)
28: 
28: [----------] Global test environment tear-down
28: [==========] 11 tests from 1 test suite ran. (44 ms total)
28: [  PASSED  ] 11 tests.
28/34 Test #28: multi_language_analyzer_test .........   Passed    0.09 sec
test 29
      Start 29: go_analyzer_test

29: Test command: /home/uos/Desktop/source/dlogcover/build/bin/go_analyzer_test
29: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
29: Environment variables: 
29:  GTEST_COLOR=1
29: Test timeout computed to be: 300
29: Running main() from ./googletest/src/gtest_main.cc
29: [==========] Running 16 tests from 1 test suite.
29: [----------] Global test environment set-up.
29: [----------] 16 tests from GoAnalyzerTest
29: [ RUN      ] GoAnalyzerTest.BasicConstruction
29: [       OK ] GoAnalyzerTest.BasicConstruction (0 ms)
29: [ RUN      ] GoAnalyzerTest.StandardLogRecognition
29: [       OK ] GoAnalyzerTest.StandardLogRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.SlogRecognition
29: [       OK ] GoAnalyzerTest.SlogRecognition (5 ms)
29: [ RUN      ] GoAnalyzerTest.LogrusRecognition
29: [       OK ] GoAnalyzerTest.LogrusRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.ZapRecognition
29: [       OK ] GoAnalyzerTest.ZapRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.GolibRecognition
29: [       OK ] GoAnalyzerTest.GolibRecognition (5 ms)
29: [ RUN      ] GoAnalyzerTest.MixedLogRecognition
29: [       OK ] GoAnalyzerTest.MixedLogRecognition (5 ms)
29: [ RUN      ] GoAnalyzerTest.NonExistentFile
29: [       OK ] GoAnalyzerTest.NonExistentFile (0 ms)
29: [ RUN      ] GoAnalyzerTest.EmptyFile
29: [       OK ] GoAnalyzerTest.EmptyFile (4 ms)
29: [ RUN      ] GoAnalyzerTest.InvalidGoFile
29: [       OK ] GoAnalyzerTest.InvalidGoFile (4 ms)
29: [ RUN      ] GoAnalyzerTest.ParallelMode
29: [       OK ] GoAnalyzerTest.ParallelMode (0 ms)
29: [ RUN      ] GoAnalyzerTest.BatchAnalysis
29: 读取请求文件失败: open --mode=batch: no such file or directory
29: [       OK ] GoAnalyzerTest.BatchAnalysis (17 ms)
29: [ RUN      ] GoAnalyzerTest.Statistics
29: [       OK ] GoAnalyzerTest.Statistics (6 ms)
29: [ RUN      ] GoAnalyzerTest.GoToolUnavailable
29: [       OK ] GoAnalyzerTest.GoToolUnavailable (4 ms)
29: [ RUN      ] GoAnalyzerTest.TimeoutSetting
29: [       OK ] GoAnalyzerTest.TimeoutSetting (5 ms)
29: [ RUN      ] GoAnalyzerTest.CustomLogLibraryConfig
29: [       OK ] GoAnalyzerTest.CustomLogLibraryConfig (4 ms)
29: [----------] 16 tests from GoAnalyzerTest (78 ms total)
29: 
29: [----------] Global test environment tear-down
29: [==========] 16 tests from 1 test suite ran. (78 ms total)
29: [  PASSED  ] 16 tests.
29/34 Test #29: go_analyzer_test .....................   Passed    0.10 sec
test 30
      Start 30: cpp_analyzer_adapter_test

30: Test command: /home/uos/Desktop/source/dlogcover/build/bin/cpp_analyzer_adapter_test
30: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
30: Environment variables: 
30:  GTEST_COLOR=1
30: Test timeout computed to be: 300
30: Running main() from ./googletest/src/gtest_main.cc
30: [==========] Running 15 tests from 1 test suite.
30: [----------] Global test environment set-up.
30: [----------] 15 tests from CppAnalyzerAdapterTest
30: [ RUN      ] CppAnalyzerAdapterTest.BasicConstruction
30: [       OK ] CppAnalyzerAdapterTest.BasicConstruction (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.SimpleFileAnalysis
30: [       OK ] CppAnalyzerAdapterTest.SimpleFileAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.ComplexFileAnalysis
30: [       OK ] CppAnalyzerAdapterTest.ComplexFileAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.HeaderFileAnalysis
30: [       OK ] CppAnalyzerAdapterTest.HeaderFileAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.CustomLogFunctionRecognition
30: [       OK ] CppAnalyzerAdapterTest.CustomLogFunctionRecognition (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.NonExistentFile
30: [       OK ] CppAnalyzerAdapterTest.NonExistentFile (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.EmptyFile
30: [       OK ] CppAnalyzerAdapterTest.EmptyFile (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.InvalidCppFile
30: [       OK ] CppAnalyzerAdapterTest.InvalidCppFile (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.GetUnderlyingAnalyzer
30: [       OK ] CppAnalyzerAdapterTest.GetUnderlyingAnalyzer (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.ParallelMode
30: [       OK ] CppAnalyzerAdapterTest.ParallelMode (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.Statistics
30: [       OK ] CppAnalyzerAdapterTest.Statistics (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.BatchAnalysis
30: [       OK ] CppAnalyzerAdapterTest.BatchAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.MissingCompileCommands
30: [       OK ] CppAnalyzerAdapterTest.MissingCompileCommands (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.QtLogFunctionRecognition
30: [       OK ] CppAnalyzerAdapterTest.QtLogFunctionRecognition (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.ExceptionHandlingLogs
30: [       OK ] CppAnalyzerAdapterTest.ExceptionHandlingLogs (0 ms)
30: [----------] 15 tests from CppAnalyzerAdapterTest (5 ms total)
30: 
30: [----------] Global test environment tear-down
30: [==========] 15 tests from 1 test suite ran. (5 ms total)
30: [  PASSED  ] 15 tests.
30/34 Test #30: cpp_analyzer_adapter_test ............   Passed    0.03 sec
test 31
      Start 31: integration_config_workflow_test

31: Test command: /home/uos/Desktop/source/dlogcover/build/bin/config_workflow_test
31: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
31: Environment variables: 
31:  GTEST_COLOR=1
31: Test timeout computed to be: 600
31: Running main() from ./googletest/src/gtest_main.cc
31: [==========] Running 4 tests from 1 test suite.
31: [----------] Global test environment set-up.
31: [----------] 4 tests from ConfigWorkflowTest
31: [ RUN      ] ConfigWorkflowTest.BasicConfigLoad
31: 2025-06-27 01:32:02.566 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:32:02.566 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:32:02.566 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:32:02.566 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:32:02.566 [INFO] 加载配置文件: /tmp/config_test__7688/test_config.json
31: 2025-06-27 01:32:02.567 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:32:02.567 [DEBUG] 验证配置
31: 2025-06-27 01:32:02.567 [INFO] 配置文件加载成功
31: 2025-06-27 01:32:02.567 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:32:02.567 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:32:02.567 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.BasicConfigLoad (1 ms)
31: [ RUN      ] ConfigWorkflowTest.InvalidConfig
31: 2025-06-27 01:32:02.567 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:32:02.567 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:32:02.567 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:32:02.567 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:32:02.567 [INFO] 加载配置文件: /tmp/config_test__3651/test_config.json
31: 2025-06-27 01:32:02.567 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:32:02.567 [DEBUG] 验证配置
31: 2025-06-27 01:32:02.567 [INFO] 配置文件加载成功
31: 2025-06-27 01:32:02.567 [DEBUG] 验证配置
31: 2025-06-27 01:32:02.567 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:32:02.567 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:32:02.567 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.InvalidConfig (0 ms)
31: [ RUN      ] ConfigWorkflowTest.ConfigValidation
31: 2025-06-27 01:32:02.567 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:32:02.567 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:32:02.567 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:32:02.567 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:32:02.567 [INFO] 加载配置文件: /tmp/config_test__7173/test_config.json
31: 2025-06-27 01:32:02.567 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:32:02.567 [DEBUG] 验证配置
31: 2025-06-27 01:32:02.567 [ERROR] 扫描目录列表不能为空
31: 2025-06-27 01:32:02.567 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:32:02.567 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:32:02.567 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.ConfigValidation (0 ms)
31: [ RUN      ] ConfigWorkflowTest.CommandLineOverride
31: 2025-06-27 01:32:02.568 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:32:02.568 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:32:02.568 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:32:02.568 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:32:02.568 [INFO] 加载配置文件: /tmp/config_test__3674/test_config.json
31: 2025-06-27 01:32:02.568 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:32:02.568 [DEBUG] 验证配置
31: 2025-06-27 01:32:02.568 [INFO] 配置文件加载成功
31: 2025-06-27 01:32:02.568 [DEBUG] 从环境变量加载选项
31: 2025-06-27 01:32:02.568 [INFO] 成功从环境变量加载选项
31: 2025-06-27 01:32:02.568 [DEBUG] 开始验证选项
31: 2025-06-27 01:32:02.568 [DEBUG] 验证目录路径: /tmp/config_test__3674/override_dir
31: 2025-06-27 01:32:02.568 [DEBUG] 验证文件路径: , 检查父目录: 0
31: 2025-06-27 01:32:02.568 [DEBUG] 验证文件路径: , 检查父目录: 1
31: 2025-06-27 01:32:02.568 [DEBUG] 选项验证通过
31: 2025-06-27 01:32:02.568 [DEBUG] 开始合并命令行选项
31: 2025-06-27 01:32:02.568 [DEBUG] 设置项目目录: /tmp/config_test__3674/override_dir
31: 2025-06-27 01:32:02.568 [DEBUG] 更新扫描目录：从 /home/uos/Desktop/source/dlogcover/build/t
ests/integration 到 /tmp/config_test__3674/override_dir                                        3
1: 2025-06-27 01:32:02.568 [DEBUG] 相对路径 './default_dir' 更新为: /tmp/config_test__3674/ove
rride_dir/./default_dir
31: 2025-06-27 01:32:02.568 [INFO] 扫描目录已更新:
31: 2025-06-27 01:32:02.568 [INFO]   - /tmp/config_test__3674/override_dir/./default_dir
31: 2025-06-27 01:32:02.568 [INFO] 根据项目目录更新扫描目录，新项目目录: /tmp/config_test__3674
/override_dir
31: 2025-06-27 01:32:02.568 [DEBUG] 使用配置文件输出文件: dlogcover_report.txt
31: 2025-06-27 01:32:02.568 [DEBUG] 使用配置文件日志文件: dlogcover.log
31: 2025-06-27 01:32:02.568 [DEBUG] 设置最大缓存大小: 100
31: 2025-06-27 01:32:02.568 [DEBUG] 使用配置文件分析模式: cpp_only
31: /home/uos/Desktop/source/dlogcover/tests/integration/config_workflow_test.cpp:228: Failure
31: Expected equality of these values:
31:   config.scan.directories[0]
31:     Which is: "/tmp/config_test__3674/override_dir/./default_dir"
31:   "./default_dir"
31: 2025-06-27 01:32:02.568 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:32:02.568 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:32:02.568 [INFO] 日志系统关闭
31: [  FAILED  ] ConfigWorkflowTest.CommandLineOverride (0 ms)
31: [----------] 4 tests from ConfigWorkflowTest (2 ms total)
31: 
31: [----------] Global test environment tear-down
31: [==========] 4 tests from 1 test suite ran. (2 ms total)
31: [  PASSED  ] 3 tests.
31: [  FAILED  ] 1 test, listed below:
31: [  FAILED  ] ConfigWorkflowTest.CommandLineOverride
31: 
31:  1 FAILED TEST
31/34 Test #31: integration_config_workflow_test .....***Failed    0.01 sec
test 32
      Start 32: integration_log_analysis_test

32: Test command: /home/uos/Desktop/source/dlogcover/build/bin/log_analysis_test
32: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
32: Environment variables: 
32:  GTEST_COLOR=1
32: Test timeout computed to be: 600
32: Running main() from ./googletest/src/gtest_main.cc
32: [==========] Running 3 tests from 1 test suite.
32: [----------] Global test environment set-up.
32: [----------] 3 tests from LogAnalysisTest
32: [ RUN      ] LogAnalysisTest.ConfigurationValidation
32: 2025-06-27 01:32:02.591 [INFO] 日志系统初始化，级别: INFO
32: 2025-06-27 01:32:02.591 [INFO] 日志系统关闭
32: [       OK ] LogAnalysisTest.ConfigurationValidation (0 ms)
32: [ RUN      ] LogAnalysisTest.EnvironmentSetup
32: 2025-06-27 01:32:02.592 [INFO] 日志系统初始化，级别: INFO
32: 2025-06-27 01:32:02.592 [INFO] 日志系统关闭
32: [       OK ] LogAnalysisTest.EnvironmentSetup (0 ms)
32: [ RUN      ] LogAnalysisTest.PlaceholderForProjectLevelTests
32: 2025-06-27 01:32:02.592 [INFO] 日志系统初始化，级别: INFO
32: 2025-06-27 01:32:02.592 [INFO] 日志系统关闭
32: [       OK ] LogAnalysisTest.PlaceholderForProjectLevelTests (0 ms)
32: [----------] 3 tests from LogAnalysisTest (1 ms total)
32: 
32: [----------] Global test environment tear-down
32: [==========] 3 tests from 1 test suite ran. (1 ms total)
32: [  PASSED  ] 3 tests.
32/34 Test #32: integration_log_analysis_test ........   Passed    0.02 sec
test 33
      Start 33: integration_coverage_workflow_test

33: Test command: /home/uos/Desktop/source/dlogcover/build/bin/coverage_workflow_test
33: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
33: Environment variables: 
33:  GTEST_COLOR=1
33: Test timeout computed to be: 600
33: Running main() from ./googletest/src/gtest_main.cc
33: [==========] Running 3 tests from 1 test suite.
33: [----------] Global test environment set-up.
33: [----------] 3 tests from CoverageWorkflowTest
33: [ RUN      ] CoverageWorkflowTest.ConfigurationValidation
33: 2025-06-27 01:32:02.617 [INFO] 日志系统初始化，级别: INFO
33: 2025-06-27 01:32:02.618 [INFO] 日志系统关闭
33: [       OK ] CoverageWorkflowTest.ConfigurationValidation (0 ms)
33: [ RUN      ] CoverageWorkflowTest.ComponentInitialization
33: 2025-06-27 01:32:02.618 [INFO] 日志系统初始化，级别: INFO
33: 2025-06-27 01:32:02.618 [INFO] 文件归属验证器统计信息:
33: 2025-06-27 01:32:02.618 [INFO] FileOwnershipValidator Statistics:
33:   Total Validations: 0
33:   Cache Hits: 0 (0%)
33:   Strict Matches: 0
33:   Canonical Matches: 0
33:   Smart Matches: 0
33:   Fuzzy Matches: 0
33:   Cache Size: 0
33: 
33: 2025-06-27 01:32:02.618 [INFO] 共构建了 24 个日志函数名
33: 2025-06-27 01:32:02.619 [INFO] 共构建了 24 个日志函数名
33: 2025-06-27 01:32:02.619 [INFO] 文件归属验证器统计信息:
33: 2025-06-27 01:32:02.619 [INFO] FileOwnershipValidator Statistics:
33:   Total Validations: 0
33:   Cache Hits: 0 (0%)
33:   Strict Matches: 0
33:   Canonical Matches: 0
33:   Smart Matches: 0
33:   Fuzzy Matches: 0
33:   Cache Size: 0
33: 
33: 2025-06-27 01:32:02.619 [INFO] 日志系统关闭
33: [       OK ] CoverageWorkflowTest.ComponentInitialization (0 ms)
33: [ RUN      ] CoverageWorkflowTest.PlaceholderForProjectLevelTests
33: 2025-06-27 01:32:02.619 [INFO] 日志系统初始化，级别: INFO
33: 2025-06-27 01:32:02.619 [INFO] 日志系统关闭
33: [       OK ] CoverageWorkflowTest.PlaceholderForProjectLevelTests (0 ms)
33: [----------] 3 tests from CoverageWorkflowTest (1 ms total)
33: 
33: [----------] Global test environment tear-down
33: [==========] 3 tests from 1 test suite ran. (1 ms total)
33: [  PASSED  ] 3 tests.
33/34 Test #33: integration_coverage_workflow_test ...   Passed    0.03 sec
test 34
      Start 34: integration_error_handling_test

34: Test command: /home/uos/Desktop/source/dlogcover/build/bin/error_handling_test
34: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
34: Environment variables: 
34:  GTEST_COLOR=1
34: Test timeout computed to be: 600
34: Running main() from ./googletest/src/gtest_main.cc
34: [==========] Running 4 tests from 1 test suite.
34: [----------] Global test environment set-up.
34: [----------] 4 tests from ErrorHandlingTest
34: [ RUN      ] ErrorHandlingTest.ConfigurationErrorHandling
34: 2025-06-27 01:32:02.650 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:32:02.650 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.ConfigurationErrorHandling (0 ms)
34: [ RUN      ] ErrorHandlingTest.FileSystemErrorHandling
34: 2025-06-27 01:32:02.651 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:32:02.651 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.FileSystemErrorHandling (0 ms)
34: [ RUN      ] ErrorHandlingTest.ComponentInitializationErrorHandling
34: 2025-06-27 01:32:02.651 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:32:02.651 [INFO] 文件归属验证器统计信息:
34: 2025-06-27 01:32:02.651 [INFO] FileOwnershipValidator Statistics:
34:   Total Validations: 0
34:   Cache Hits: 0 (0%)
34:   Strict Matches: 0
34:   Canonical Matches: 0
34:   Smart Matches: 0
34:   Fuzzy Matches: 0
34:   Cache Size: 0
34: 
34: 2025-06-27 01:32:02.651 [INFO] 共构建了 24 个日志函数名
34: 2025-06-27 01:32:02.651 [INFO] 文件归属验证器统计信息:
34: 2025-06-27 01:32:02.651 [INFO] FileOwnershipValidator Statistics:
34:   Total Validations: 0
34:   Cache Hits: 0 (0%)
34:   Strict Matches: 0
34:   Canonical Matches: 0
34:   Smart Matches: 0
34:   Fuzzy Matches: 0
34:   Cache Size: 0
34: 
34: 2025-06-27 01:32:02.651 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.ComponentInitializationErrorHandling (0 ms)
34: [ RUN      ] ErrorHandlingTest.PlaceholderForProjectLevelErrorTests
34: 2025-06-27 01:32:02.652 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:32:02.652 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.PlaceholderForProjectLevelErrorTests (0 ms)
34: [----------] 4 tests from ErrorHandlingTest (2 ms total)
34: 
34: [----------] Global test environment tear-down
34: [==========] 4 tests from 1 test suite ran. (2 ms total)
34: [  PASSED  ] 4 tests.
34/34 Test #34: integration_error_handling_test ......   Passed    0.03 sec

91% tests passed, 3 tests failed out of 34

Total Test time (real) = 131.19 sec

The following tests FAILED:
         13 - command_line_parser_test (Failed)
         16 - config_manager_test (Failed)
         31 - integration_config_workflow_test (Failed)
Errors while running CTest
Output from these tests are in: /home/uos/Desktop/source/dlogcover/build/Testing/Temporary/Last
Test.log
Use "--rerun-failed --output-on-failure" to re-run the failed cases verbosely.

```

---

现在我看到了具体的测试失败信息。让我查看具体的失败测试的详细信息：

---

```bash
cd build && ctest --rerun-failed --output-on-failure
```

```
Test project /home/uos/Desktop/source/dlogcover/build
    Start 13: command_line_parser_test
1/3 Test #13: command_line_parser_test ...........***Failed    0.01 sec
[==========] Running 19 tests from 2 test suites.
[----------] Global test environment set-up.
[----------] 15 tests from CommandLineParserTest
[ RUN      ] CommandLineParserTest.HelpRequest

DLogCover - C++代码日志覆盖分析工具 v0.1.0
用法: dlogcover [选项]

主要选项:
  -h, --help                 显示帮助信息
  -v, --version              显示版本信息
  -d, --directory <path>     指定扫描目录 (默认: ./)
  -o, --output <path>        指定输出报告路径 (默认: ./dlogcover_report_<timestamp>.txt)
  -c, --config <path>        指定配置文件路径 (默认: ./dlogcover.json)
  -e, --exclude <pattern>    排除符合模式的文件或目录 (可多次使用)
  -l, --log-level <level>    指定最低日志级别进行过滤 (debug, info, warning, critical, fatal, a
ll)
  -f, --format <format>      指定报告格式 (text, json)
  -p, --log-path <path>      指定日志文件路径 (默认: dlogcover_<timestamp>.log)
  -I, --include-path <path>  头文件搜索路径 (可多次使用)
  -m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)
  -q, --quiet                静默模式，减少输出信息
      --verbose              详细输出模式，显示更多调试信息

性能选项:
      --max-threads <num>    设置最大线程数 (默认: 0=自动检测)
      --disable-parallel     禁用并行分析，强制使用单线程模式
      --disable-cache        禁用AST缓存，每次都重新解析
      --max-cache-size <num> 设置最大缓存条目数 (默认: 100)
      --disable-io-opt       禁用I/O优化，使用标准文件读取

环境变量:
  DLOGCOVER_DIRECTORY       等同于 -d 选项
  DLOGCOVER_OUTPUT          等同于 -o 选项
  DLOGCOVER_CONFIG          等同于 -c 选项
  DLOGCOVER_LOG_LEVEL       等同于 -l 选项
  DLOGCOVER_REPORT_FORMAT   等同于 -f 选项
  DLOGCOVER_EXCLUDE         排除模式列表，使用冒号分隔
  DLOGCOVER_LOG_PATH        等同于 -p 选项

配置文件格式 (JSON):
支持两种格式：

1. 完整嵌套格式 (推荐):
{
  "project": {
    "name": "my-project",
    "directory": "./src",
    "build_directory": "./build"
  },
  "scan": {
    "directories": ["src", "include"],
    "file_extensions": [".cpp", ".h"],
    "exclude_patterns": ["build/*", "test/*"]
  },
  "output": {
    "report_file": "./report.txt",
    "log_file": "./dlogcover.log",
    "log_level": "debug"
  },
  "analysis": {
    "mode": "cpp_only"
  },
  "log_functions": {
    "qt": {
      "enabled": true,
      "functions": ["qDebug", "qInfo"]
    },
    "custom": {
      "enabled": true,
      "functions": {
        "debug": ["LOG_DEBUG"],
        "info": ["LOG_INFO"]
      }
    }
  }
}

2. 简化格式 (兼容):
{
  "directory": "./src",
  "output": "./report.txt",
  "log_level": "debug",
  "exclude": ["build/*", "test/*"],
  "log_path": "./dlogcover.log"
}

优先级:
  命令行参数 > 配置文件 > 环境变量 > 默认值

示例:
  dlogcover -d /path/to/source -o report.txt
  dlogcover -c config.json -e "build/*" -e "test/*"
  dlogcover -I ./include -q
  dlogcover --verbose -f json -o report.json
  dlogcover -d ./src --mode cpp_only
  dlogcover -d ./src --mode go_only
  dlogcover -d ./src --mode auto_detect
  DLOGCOVER_DIRECTORY=./src DLOGCOVER_LOG_LEVEL=debug dlogcover

[       OK ] CommandLineParserTest.HelpRequest (0 ms)
[ RUN      ] CommandLineParserTest.VersionRequest
DLogCover v0.1.0
[       OK ] CommandLineParserTest.VersionRequest (0 ms)
[ RUN      ] CommandLineParserTest.ShortHelpRequest

DLogCover - C++代码日志覆盖分析工具 v0.1.0
用法: dlogcover [选项]

主要选项:
  -h, --help                 显示帮助信息
  -v, --version              显示版本信息
  -d, --directory <path>     指定扫描目录 (默认: ./)
  -o, --output <path>        指定输出报告路径 (默认: ./dlogcover_report_<timestamp>.txt)
  -c, --config <path>        指定配置文件路径 (默认: ./dlogcover.json)
  -e, --exclude <pattern>    排除符合模式的文件或目录 (可多次使用)
  -l, --log-level <level>    指定最低日志级别进行过滤 (debug, info, warning, critical, fatal, a
ll)
  -f, --format <format>      指定报告格式 (text, json)
  -p, --log-path <path>      指定日志文件路径 (默认: dlogcover_<timestamp>.log)
  -I, --include-path <path>  头文件搜索路径 (可多次使用)
  -m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)
  -q, --quiet                静默模式，减少输出信息
      --verbose              详细输出模式，显示更多调试信息

性能选项:
      --max-threads <num>    设置最大线程数 (默认: 0=自动检测)
      --disable-parallel     禁用并行分析，强制使用单线程模式
      --disable-cache        禁用AST缓存，每次都重新解析
      --max-cache-size <num> 设置最大缓存条目数 (默认: 100)
      --disable-io-opt       禁用I/O优化，使用标准文件读取

环境变量:
  DLOGCOVER_DIRECTORY       等同于 -d 选项
  DLOGCOVER_OUTPUT          等同于 -o 选项
  DLOGCOVER_CONFIG          等同于 -c 选项
  DLOGCOVER_LOG_LEVEL       等同于 -l 选项
  DLOGCOVER_REPORT_FORMAT   等同于 -f 选项
  DLOGCOVER_EXCLUDE         排除模式列表，使用冒号分隔
  DLOGCOVER_LOG_PATH        等同于 -p 选项

配置文件格式 (JSON):
支持两种格式：

1. 完整嵌套格式 (推荐):
{
  "project": {
    "name": "my-project",
    "directory": "./src",
    "build_directory": "./build"
  },
  "scan": {
    "directories": ["src", "include"],
    "file_extensions": [".cpp", ".h"],
    "exclude_patterns": ["build/*", "test/*"]
  },
  "output": {
    "report_file": "./report.txt",
    "log_file": "./dlogcover.log",
    "log_level": "debug"
  },
  "analysis": {
    "mode": "cpp_only"
  },
  "log_functions": {
    "qt": {
      "enabled": true,
      "functions": ["qDebug", "qInfo"]
    },
    "custom": {
      "enabled": true,
      "functions": {
        "debug": ["LOG_DEBUG"],
        "info": ["LOG_INFO"]
      }
    }
  }
}

2. 简化格式 (兼容):
{
  "directory": "./src",
  "output": "./report.txt",
  "log_level": "debug",
  "exclude": ["build/*", "test/*"],
  "log_path": "./dlogcover.log"
}

优先级:
  命令行参数 > 配置文件 > 环境变量 > 默认值

示例:
  dlogcover -d /path/to/source -o report.txt
  dlogcover -c config.json -e "build/*" -e "test/*"
  dlogcover -I ./include -q
  dlogcover --verbose -f json -o report.json
  dlogcover -d ./src --mode cpp_only
  dlogcover -d ./src --mode go_only
  dlogcover -d ./src --mode auto_detect
  DLOGCOVER_DIRECTORY=./src DLOGCOVER_LOG_LEVEL=debug dlogcover

[       OK ] CommandLineParserTest.ShortHelpRequest (0 ms)
[ RUN      ] CommandLineParserTest.ShortVersionRequest
DLogCover v0.1.0
[       OK ] CommandLineParserTest.ShortVersionRequest (0 ms)
[ RUN      ] CommandLineParserTest.NormalArguments
[       OK ] CommandLineParserTest.NormalArguments (0 ms)
[ RUN      ] CommandLineParserTest.NoArguments
[       OK ] CommandLineParserTest.NoArguments (0 ms)
[ RUN      ] CommandLineParserTest.InvalidArguments
[       OK ] CommandLineParserTest.InvalidArguments (0 ms)
[ RUN      ] CommandLineParserTest.MissingArgumentValue
[       OK ] CommandLineParserTest.MissingArgumentValue (0 ms)
[ RUN      ] CommandLineParserTest.LogLevelParsing
[       OK ] CommandLineParserTest.LogLevelParsing (0 ms)
[ RUN      ] CommandLineParserTest.ReportFormatParsing
[       OK ] CommandLineParserTest.ReportFormatParsing (0 ms)
[ RUN      ] CommandLineParserTest.ModeParameterParsing
[       OK ] CommandLineParserTest.ModeParameterParsing (0 ms)
[ RUN      ] CommandLineParserTest.ModeParameterShortOption
[       OK ] CommandLineParserTest.ModeParameterShortOption (0 ms)
[ RUN      ] CommandLineParserTest.InvalidModeValue
[       OK ] CommandLineParserTest.InvalidModeValue (0 ms)
[ RUN      ] CommandLineParserTest.DefaultModeValue
/home/uos/Desktop/source/dlogcover/tests/unit/command_line_parser_test.cpp:283: Failure
Expected equality of these values:
  "cpp_only"
  parser->getOptions().mode
    Which is: ""
[  FAILED  ] CommandLineParserTest.DefaultModeValue (0 ms)
[ RUN      ] CommandLineParserTest.MissingModeValue
[       OK ] CommandLineParserTest.MissingModeValue (0 ms)
[----------] 15 tests from CommandLineParserTest (0 ms total)

[----------] 4 tests from CommandLineParserFileTest
[ RUN      ] CommandLineParserFileTest.DirectoryValidation
[       OK ] CommandLineParserFileTest.DirectoryValidation (0 ms)
[ RUN      ] CommandLineParserFileTest.ConfigFileValidation
[       OK ] CommandLineParserFileTest.ConfigFileValidation (0 ms)
[ RUN      ] CommandLineParserFileTest.ParameterCombination
[       OK ] CommandLineParserFileTest.ParameterCombination (0 ms)
[ RUN      ] CommandLineParserFileTest.ModeParameterCombination
[       OK ] CommandLineParserFileTest.ModeParameterCombination (0 ms)
[----------] 4 tests from CommandLineParserFileTest (0 ms total)

[----------] Global test environment tear-down
[==========] 19 tests from 2 test suites ran. (1 ms total)
[  PASSED  ] 18 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] CommandLineParserTest.DefaultModeValue

 1 FAILED TEST

    Start 16: config_manager_test
2/3 Test #16: config_manager_test ................***Failed    0.01 sec
[==========] Running 5 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 5 tests from ConfigManagerTest
[ RUN      ] ConfigManagerTest.DefaultConfig
[       OK ] ConfigManagerTest.DefaultConfig (0 ms)
[ RUN      ] ConfigManagerTest.LoadValidConfig
[       OK ] ConfigManagerTest.LoadValidConfig (0 ms)
[ RUN      ] ConfigManagerTest.LoadInvalidConfig
[       OK ] ConfigManagerTest.LoadInvalidConfig (0 ms)
[ RUN      ] ConfigManagerTest.MergeWithCommandLineOptions
/home/uos/Desktop/source/dlogcover/tests/unit/config_manager_test.cpp:218: Failure
Expected equality of these values:
  "include"
  config.scan.directories[0]
    Which is: "/custom/dir/include"
/home/uos/Desktop/source/dlogcover/tests/unit/config_manager_test.cpp:219: Failure
Expected equality of these values:
  "src"
  config.scan.directories[1]
    Which is: "/custom/dir/src"
/home/uos/Desktop/source/dlogcover/tests/unit/config_manager_test.cpp:220: Failure
Expected equality of these values:
  "tests"
  config.scan.directories[2]
    Which is: "/custom/dir/tests"
[  FAILED  ] ConfigManagerTest.MergeWithCommandLineOptions (0 ms)
[ RUN      ] ConfigManagerTest.ValidateConfig
[       OK ] ConfigManagerTest.ValidateConfig (0 ms)
[----------] 5 tests from ConfigManagerTest (1 ms total)

[----------] Global test environment tear-down
[==========] 5 tests from 1 test suite ran. (1 ms total)
[  PASSED  ] 4 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] ConfigManagerTest.MergeWithCommandLineOptions

 1 FAILED TEST

    Start 31: integration_config_workflow_test
3/3 Test #31: integration_config_workflow_test ...***Failed    0.02 sec
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 4 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 4 tests from ConfigWorkflowTest
[ RUN      ] ConfigWorkflowTest.BasicConfigLoad
2025-06-27 01:32:12.056 [INFO] 日志系统初始化，级别: DEBUG
2025-06-27 01:32:12.056 [DEBUG] 配置管理器初始化，加载内置默认配置
2025-06-27 01:32:12.056 [DEBUG] 创建默认配置: 项目目录=
2025-06-27 01:32:12.057 [DEBUG] 编译命令管理器初始化
2025-06-27 01:32:12.057 [INFO] 加载配置文件: /tmp/config_test__4727/test_config.json
2025-06-27 01:32:12.057 [DEBUG] 配置文件解析成功
2025-06-27 01:32:12.057 [DEBUG] 验证配置
2025-06-27 01:32:12.057 [INFO] 配置文件加载成功
2025-06-27 01:32:12.057 [DEBUG] 配置管理器销毁
2025-06-27 01:32:12.057 [DEBUG] 编译命令管理器销毁
2025-06-27 01:32:12.057 [INFO] 日志系统关闭
[       OK ] ConfigWorkflowTest.BasicConfigLoad (1 ms)
[ RUN      ] ConfigWorkflowTest.InvalidConfig
2025-06-27 01:32:12.057 [INFO] 日志系统初始化，级别: DEBUG
2025-06-27 01:32:12.057 [DEBUG] 配置管理器初始化，加载内置默认配置
2025-06-27 01:32:12.057 [DEBUG] 创建默认配置: 项目目录=
2025-06-27 01:32:12.057 [DEBUG] 编译命令管理器初始化
2025-06-27 01:32:12.057 [INFO] 加载配置文件: /tmp/config_test__8264/test_config.json
2025-06-27 01:32:12.058 [DEBUG] 配置文件解析成功
2025-06-27 01:32:12.058 [DEBUG] 验证配置
2025-06-27 01:32:12.058 [INFO] 配置文件加载成功
2025-06-27 01:32:12.058 [DEBUG] 验证配置
2025-06-27 01:32:12.058 [DEBUG] 配置管理器销毁
2025-06-27 01:32:12.058 [DEBUG] 编译命令管理器销毁
2025-06-27 01:32:12.058 [INFO] 日志系统关闭
[       OK ] ConfigWorkflowTest.InvalidConfig (0 ms)
[ RUN      ] ConfigWorkflowTest.ConfigValidation
2025-06-27 01:32:12.058 [INFO] 日志系统初始化，级别: DEBUG
2025-06-27 01:32:12.058 [DEBUG] 配置管理器初始化，加载内置默认配置
2025-06-27 01:32:12.058 [DEBUG] 创建默认配置: 项目目录=
2025-06-27 01:32:12.058 [DEBUG] 编译命令管理器初始化
2025-06-27 01:32:12.058 [INFO] 加载配置文件: /tmp/config_test__2918/test_config.json
2025-06-27 01:32:12.058 [DEBUG] 配置文件解析成功
2025-06-27 01:32:12.058 [DEBUG] 验证配置
2025-06-27 01:32:12.058 [ERROR] 扫描目录列表不能为空
2025-06-27 01:32:12.058 [DEBUG] 配置管理器销毁
2025-06-27 01:32:12.058 [DEBUG] 编译命令管理器销毁
2025-06-27 01:32:12.058 [INFO] 日志系统关闭
[       OK ] ConfigWorkflowTest.ConfigValidation (0 ms)
[ RUN      ] ConfigWorkflowTest.CommandLineOverride
2025-06-27 01:32:12.058 [INFO] 日志系统初始化，级别: DEBUG
2025-06-27 01:32:12.058 [DEBUG] 配置管理器初始化，加载内置默认配置
2025-06-27 01:32:12.058 [DEBUG] 创建默认配置: 项目目录=
2025-06-27 01:32:12.058 [DEBUG] 编译命令管理器初始化
2025-06-27 01:32:12.059 [INFO] 加载配置文件: /tmp/config_test__6314/test_config.json
2025-06-27 01:32:12.059 [DEBUG] 配置文件解析成功
2025-06-27 01:32:12.059 [DEBUG] 验证配置
2025-06-27 01:32:12.059 [INFO] 配置文件加载成功
2025-06-27 01:32:12.059 [DEBUG] 从环境变量加载选项
2025-06-27 01:32:12.059 [INFO] 成功从环境变量加载选项
2025-06-27 01:32:12.059 [DEBUG] 开始验证选项
2025-06-27 01:32:12.059 [DEBUG] 验证目录路径: /tmp/config_test__6314/override_dir
2025-06-27 01:32:12.059 [DEBUG] 验证文件路径: , 检查父目录: 0
2025-06-27 01:32:12.059 [DEBUG] 验证文件路径: , 检查父目录: 1
2025-06-27 01:32:12.059 [DEBUG] 选项验证通过
2025-06-27 01:32:12.059 [DEBUG] 开始合并命令行选项
2025-06-27 01:32:12.059 [DEBUG] 设置项目目录: /tmp/config_test__6314/override_dir
2025-06-27 01:32:12.059 [DEBUG] 更新扫描目录：从 /home/uos/Desktop/source/dlogcover/build/tests
/integration 到 /tmp/config_test__6314/override_dir                                            2
025-06-27 01:32:12.059 [DEBUG] 相对路径 './default_dir' 更新为: /tmp/config_test__6314/overrid
e_dir/./default_dir
2025-06-27 01:32:12.059 [INFO] 扫描目录已更新:
2025-06-27 01:32:12.059 [INFO]   - /tmp/config_test__6314/override_dir/./default_dir
2025-06-27 01:32:12.059 [INFO] 根据项目目录更新扫描目录，新项目目录: /tmp/config_test__6314/ove
rride_dir
2025-06-27 01:32:12.059 [DEBUG] 使用配置文件输出文件: dlogcover_report.txt
2025-06-27 01:32:12.059 [DEBUG] 使用配置文件日志文件: dlogcover.log
2025-06-27 01:32:12.059 [DEBUG] 设置最大缓存大小: 100
2025-06-27 01:32:12.059 [DEBUG] 使用配置文件分析模式: cpp_only
/home/uos/Desktop/source/dlogcover/tests/integration/config_workflow_test.cpp:228: Failure
Expected equality of these values:
  config.scan.directories[0]
    Which is: "/tmp/config_test__6314/override_dir/./default_dir"
  "./default_dir"
2025-06-27 01:32:12.059 [DEBUG] 配置管理器销毁
2025-06-27 01:32:12.059 [DEBUG] 编译命令管理器销毁
2025-06-27 01:32:12.059 [INFO] 日志系统关闭
[  FAILED  ] ConfigWorkflowTest.CommandLineOverride (0 ms)
[----------] 4 tests from ConfigWorkflowTest (3 ms total)

[----------] Global test environment tear-down
[==========] 4 tests from 1 test suite ran. (3 ms total)
[  PASSED  ] 3 tests.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] ConfigWorkflowTest.CommandLineOverride

 1 FAILED TEST


0% tests passed, 3 tests failed out of 3

Total Test time (real) =   0.05 sec

The following tests FAILED:
         13 - command_line_parser_test (Failed)
         16 - config_manager_test (Failed)
         31 - integration_config_workflow_test (Failed)
Errors while running CTest

```

---

现在我清楚地看到了三个失败的测试问题。让我分析一下这些问题并查看相关的代码文件：

---

Read file: tests/unit/command_line_parser_test.cpp

---

Read file: tests/unit/config_manager_test.cpp

---

Read file: tests/integration/config_workflow_test.cpp

---

现在我需要查看相关的源代码文件来理解这些问题：

---

Read file: src/cli/command_line_parser.cpp

---

Read file: include/dlogcover/cli/options.h

---

现在让我查看 `command_line_parser.cpp` 的其余部分，特别是 mode 参数的处理：

---

<details>
            <summary>Grep search for "mode.*cpp_only" • **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/uos/Desktop/source/dlogcover/tests/unit/command_line_parser_test.cpp` | L290 | `"--mode", "cpp_only",` |
| `file:///home/uos/Desktop/source/dlogcover/tests/unit/multi_language_analyzer_test.cpp` | L53 | `config_.analysis.mode = "cpp_only";` |
| `file:///home/uos/Desktop/source/dlogcover/tests/unit/multi_language_analyzer_test.cpp` | L177 | `config_.analysis.mode = "cpp_only";` |
| `file:///home/uos/Desktop/source/dlogcover/src/cli/command_line_parser.cpp` | L109 | `-m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)` |
| `file:///home/uos/Desktop/source/dlogcover/src/cli/command_line_parser.cpp` | L150 | `"mode": "cpp_only"` |
| `file:///home/uos/Desktop/source/dlogcover/src/cli/command_line_parser.cpp` | L184 | `dlogcover -d ./src --mode cpp_only` |
| `file:///home/uos/Desktop/source/dlogcover/src/cli/command_line_parser.cpp` | L463 | `if (mode != "cpp_only" && mode != "go_only" && mode != "auto_detect") {` |
| `file:///home/uos/Desktop/source/dlogcover/src/cli/command_line_parser.cpp` | L465 | `"无效的分析模式: " + mode + " (支持: cpp_only, go_only, auto_detect)");` |
| `file:///home/uos/Desktop/source/dlogcover/src/core/analyzer/multi_language_analyzer.cpp` | L104 | `case AnalysisMode::CPP_ONLY:` |
| `file:///home/uos/Desktop/source/dlogcover/src/core/analyzer/multi_language_analyzer.cpp` | L254 | `case AnalysisMode::CPP_ONLY:` |
| `file:///home/uos/Desktop/source/dlogcover/src/core/analyzer/multi_language_analyzer.cpp` | L268 | `if (modeStr == "cpp_only") {` |
| `file:///home/uos/Desktop/source/dlogcover/src/core/analyzer/multi_language_analyzer.cpp` | L269 | `analysisMode_ = AnalysisMode::CPP_ONLY;` |
| `file:///home/uos/Desktop/source/dlogcover/src/core/analyzer/multi_language_analyzer.cpp` | L279 | `analysisMode_ = AnalysisMode::CPP_ONLY;` |
| `file:///home/uos/Desktop/source/dlogcover/src/core/analyzer/multi_language_analyzer.cpp` | L286 | `case AnalysisMode::CPP_ONLY:` |
| `file:///home/uos/Desktop/source/dlogcover/src/config/config_manager.cpp` | L285 | `config.analysis.mode = "cpp_only";` |

</details>

---

Read file: src/cli/command_line_parser.cpp

---

现在让我查看配置管理器的问题：

---

Read file: src/config/config_manager.cpp

---

<details>
            <summary>Grep search for "mergeWithCommandLineOptions" • **4** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///home/uos/Desktop/source/dlogcover/tests/unit/config_manager_test.cpp` | L196 | `TEST(ConfigManagerTest, MergeWithCommandLineOptions) {` |
| `file:///home/uos/Desktop/source/dlogcover/tests/unit/config_manager_test.cpp` | L208 | `configManager.mergeWithCommandLineOptions(options);` |
| `file:///home/uos/Desktop/source/dlogcover/tests/integration/config_workflow_test.cpp` | L219 | `config_manager.mergeWithCommandLineOptions(const_cast<dlogcover::cli::Options&>(options));` |
| `file:///home/uos/Desktop/source/dlogcover/src/main.cpp` | L118 | `configManager.mergeWithCommandLineOptions(options);` |
| `file:///home/uos/Desktop/source/dlogcover/src/config/config_manager.cpp` | L80 | `void ConfigManager::mergeWithCommandLineOptions(dlogcover::cli::Options& options) {` |

</details>

---

现在让我查看 `mergeWithCommandLineOptions` 的实现：

---

Read file: src/config/config_manager.cpp

---

现在我找到了问题的根源。让我分析一下这三个测试失败的原因：

1. **`command_line_parser_test` 的 `DefaultModeValue` 测试失败**：测试期望 `mode` 默认值为 `"cpp_only"`，但实际返回空字符串
2. **`config_manager_test` 的 `MergeWithCommandLineOptions` 测试失败**：测试期望扫描目录保持相对路径，但实际被转换为绝对路径
3. **`integration_config_workflow_test` 的 `CommandLineOverride` 测试失败**：同样的路径转换问题

让我修复这些问题：

---

Read file: src/cli/options.cpp

---

现在我明白问题了。让我制定修复计划：

## 修复计划

### 问题1：`command_line_parser_test` 的 `DefaultModeValue` 测试失败
- **问题**：测试期望 `mode` 默认值为 `"cpp_only"`，但 `Options` 构造函数中 `mode` 初始化为空字符串
- **修复**：在 `Options` 构造函数中设置 `mode` 的默认值为 `"cpp_only"`

### 问题2：`config_manager_test` 的 `MergeWithCommandLineOptions` 测试失败
- **问题**：`mergeWithCommandLineOptions` 方法中的 `updateScanDirectoriesForNewProject` 函数将相对路径转换为绝对路径
- **修复**：修改测试期望值或调整路径转换逻辑

### 问题3：`integration_config_workflow_test` 的 `CommandLineOverride` 测试失败
- **问题**：同样的路径转换问题
- **修复**：修改测试期望值

让我开始修复：

---



---

现在修复第二个问题。让我查看测试期望并更新它们：

---



---

现在修复第三个问题：

---



---

现在让我运行测试来验证修复：

---

Cancelled

---

_**User**_

请根据代码实现修改单元测试逻辑，除非代码实现有误

---

_**Assistant**_

我明白了，你希望我根据代码的实际实现来修改测试逻辑，而不是修改代码实现。让我重新分析这些失败的测试，并根据实际的代码行为来修正测试期望。

首先让我重新运行测试来查看当前的状态：

---

```bash
cd /home/uos/Desktop/source/dlogcover && ctest --rerun-failed --output-on-failure
```

```
uos@uos-PC:~/Desktop/source/dlogcover$ cd /home/uos/Desktop/source/dlogcover && ctest --rerun-f
ailed --output-on-failurcd /home/uos/Desktop/source/dlogcover && ctest --rerun-failed --output-
on-failure
Test project /home/uos/Desktop/source/dlogcover
No tests were found!!!
uos@uos-PC:~/Desktop/source/dlogcover$
```

---

让我重新构建并运行测试：

---

```bash
./build.sh -t
```

```
uos@uos-PC:~/Desktop/source/dlogcover$ 
      Start 20: result_test

20: Test command: /home/uos/Desktop/source/dlogcover/build/bin/result_test
20: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
20: Environment variables: 
20:  GTEST_COLOR=1
20: Test timeout computed to be: 300
20: Running main() from ./googletest/src/gtest_main.cc
20: [==========] Running 8 tests from 1 test suite.
20: [----------] Global test environment set-up.
20: [----------] 8 tests from ResultTest
20: [ RUN      ] ResultTest.BasicBoolResult
20: [       OK ] ResultTest.BasicBoolResult (0 ms)
20: [ RUN      ] ResultTest.StringResult
20: [       OK ] ResultTest.StringResult (0 ms)
20: [ RUN      ] ResultTest.SmartPointerResult
20: [       OK ] ResultTest.SmartPointerResult (0 ms)
20: [ RUN      ] ResultTest.ReferenceTypeDeduction
20: [       OK ] ResultTest.ReferenceTypeDeduction (0 ms)
20: [ RUN      ] ResultTest.CopyAndMove
20: [       OK ] ResultTest.CopyAndMove (0 ms)
20: [ RUN      ] ResultTest.ErrorHandling
20: [       OK ] ResultTest.ErrorHandling (0 ms)
20: [ RUN      ] ResultTest.TemplateTypeDeduction
20: [       OK ] ResultTest.TemplateTypeDeduction (0 ms)
20: [ RUN      ] ResultTest.PerformanceTest
20: [       OK ] ResultTest.PerformanceTest (2 ms)
20: [----------] 8 tests from ResultTest (2 ms total)
20: 
20: [----------] Global test environment tear-down
20: [==========] 8 tests from 1 test suite ran. (2 ms total)
20: [  PASSED  ] 8 tests.
20/34 Test #20: result_test ..........................   Passed    0.01 sec
test 21
      Start 21: compile_commands_manager_test

21: Test command: /home/uos/Desktop/source/dlogcover/build/bin/compile_commands_manager_test
21: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
21: Environment variables: 
21:  GTEST_COLOR=1
21: Test timeout computed to be: 300
21: Running main() from ./googletest/src/gtest_main.cc
21: [==========] Running 15 tests from 1 test suite.
21: [----------] Global test environment set-up.
21: [----------] 15 tests from CompileCommandsManagerTest
21: [ RUN      ] CompileCommandsManagerTest.DetectCMakeProject
21: -- The C compiler identification is GNU 12.3.0
21: -- The CXX compiler identification is GNU 12.3.0
21: -- Detecting C compiler ABI info
21: -- Detecting C compiler ABI info - done
21: -- Check for working C compiler: /usr/bin/cc - skipped
21: -- Detecting C compile features
21: -- Detecting C compile features - done
21: -- Detecting CXX compiler ABI info
21: -- Detecting CXX compiler ABI info - done
21: -- Check for working CXX compiler: /usr/bin/c++ - skipped
21: -- Detecting CXX compile features
21: -- Detecting CXX compile features - done
21: -- Configuring done (0.5s)
21: -- Generating done (0.0s)
21: -- Build files have been written to: /tmp/dlogcover_compile_commands_test/build
21: [       OK ] CompileCommandsManagerTest.DetectCMakeProject (538 ms)
21: [ RUN      ] CompileCommandsManagerTest.DetectMissingCMakeListsFile
21: [       OK ] CompileCommandsManagerTest.DetectMissingCMakeListsFile (15 ms)
21: [ RUN      ] CompileCommandsManagerTest.DetectInvalidProjectDirectory
21: [       OK ] CompileCommandsManagerTest.DetectInvalidProjectDirectory (14 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseValidCompileCommands
21: [       OK ] CompileCommandsManagerTest.ParseValidCompileCommands (3 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseInvalidJsonFormat
21: [       OK ] CompileCommandsManagerTest.ParseInvalidJsonFormat (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseMissingRequiredFields
21: [       OK ] CompileCommandsManagerTest.ParseMissingRequiredFields (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseNonexistentFile
21: [       OK ] CompileCommandsManagerTest.ParseNonexistentFile (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetCompilerArgsExactMatch
21: [       OK ] CompileCommandsManagerTest.GetCompilerArgsExactMatch (1 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetCompilerArgsSameNameMatch
21: [       OK ] CompileCommandsManagerTest.GetCompilerArgsSameNameMatch (1 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetCompilerArgsFallback
21: [       OK ] CompileCommandsManagerTest.GetCompilerArgsFallback (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetProjectDirectory
21: [       OK ] CompileCommandsManagerTest.GetProjectDirectory (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.GetProjectDirectoryNotFound
21: [       OK ] CompileCommandsManagerTest.GetProjectDirectoryNotFound (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.IsCompileCommandsValid
21: [       OK ] CompileCommandsManagerTest.IsCompileCommandsValid (0 ms)
21: [ RUN      ] CompileCommandsManagerTest.ClearFunction
21: [       OK ] CompileCommandsManagerTest.ClearFunction (1 ms)
21: [ RUN      ] CompileCommandsManagerTest.ParseCompilerCommandWithQuotes
21: [       OK ] CompileCommandsManagerTest.ParseCompilerCommandWithQuotes (1 ms)
21: [----------] 15 tests from CompileCommandsManagerTest (578 ms total)
21: 
21: [----------] Global test environment tear-down
21: [==========] 15 tests from 1 test suite ran. (578 ms total)
21: [  PASSED  ] 15 tests.
21/34 Test #21: compile_commands_manager_test ........   Passed    0.59 sec
test 22
      Start 22: options_extended_test

22: Test command: /home/uos/Desktop/source/dlogcover/build/bin/options_extended_test
22: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
22: Environment variables: 
22:  GTEST_COLOR=1
22: Test timeout computed to be: 300
22: Running main() from ./googletest/src/gtest_main.cc
22: [==========] Running 28 tests from 1 test suite.
22: [----------] Global test environment set-up.
22: [----------] 28 tests from OptionsExtendedTest
22: [ RUN      ] OptionsExtendedTest.ValidateExistingDirectory
22: [       OK ] OptionsExtendedTest.ValidateExistingDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateNonexistentDirectory
22: [       OK ] OptionsExtendedTest.ValidateNonexistentDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateFileAsDirectory
22: [       OK ] OptionsExtendedTest.ValidateFileAsDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateEmptyDirectory
22: [       OK ] OptionsExtendedTest.ValidateEmptyDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateExistingConfigFile
22: [       OK ] OptionsExtendedTest.ValidateExistingConfigFile (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateNonexistentConfigFile
22: [       OK ] OptionsExtendedTest.ValidateNonexistentConfigFile (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateOutputFileWithValidParentDir
22: [       OK ] OptionsExtendedTest.ValidateOutputFileWithValidParentDir (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateOutputFileWithInvalidParentDir
22: [       OK ] OptionsExtendedTest.ValidateOutputFileWithInvalidParentDir (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateEmptyExcludePattern
22: [       OK ] OptionsExtendedTest.ValidateEmptyExcludePattern (0 ms)
22: [ RUN      ] OptionsExtendedTest.ValidateValidExcludePatterns
22: [       OK ] OptionsExtendedTest.ValidateValidExcludePatterns (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonSerializationBasic
22: [       OK ] OptionsExtendedTest.JsonSerializationBasic (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonSerializationEmptyExcludePatterns
22: [       OK ] OptionsExtendedTest.JsonSerializationEmptyExcludePatterns (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationValid
22: [       OK ] OptionsExtendedTest.JsonDeserializationValid (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationMissingVersion
22: [       OK ] OptionsExtendedTest.JsonDeserializationMissingVersion (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationInvalidVersion
22: [       OK ] OptionsExtendedTest.JsonDeserializationInvalidVersion (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationMissingDirectory
22: [       OK ] OptionsExtendedTest.JsonDeserializationMissingDirectory (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationWithDefaults
22: [       OK ] OptionsExtendedTest.JsonDeserializationWithDefaults (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationInvalidLogLevel
22: [       OK ] OptionsExtendedTest.JsonDeserializationInvalidLogLevel (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationInvalidReportFormat
22: [       OK ] OptionsExtendedTest.JsonDeserializationInvalidReportFormat (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonDeserializationMalformedJson
22: [       OK ] OptionsExtendedTest.JsonDeserializationMalformedJson (0 ms)
22: [ RUN      ] OptionsExtendedTest.IsValidFunction
22: [       OK ] OptionsExtendedTest.IsValidFunction (0 ms)
22: [ RUN      ] OptionsExtendedTest.ResetFunction
22: [       OK ] OptionsExtendedTest.ResetFunction (0 ms)
22: [ RUN      ] OptionsExtendedTest.ToStringFunction
22: [       OK ] OptionsExtendedTest.ToStringFunction (0 ms)
22: [ RUN      ] OptionsExtendedTest.EqualityOperator
22: [       OK ] OptionsExtendedTest.EqualityOperator (0 ms)
22: [ RUN      ] OptionsExtendedTest.LogLevelConversion
22: [       OK ] OptionsExtendedTest.LogLevelConversion (0 ms)
22: [ RUN      ] OptionsExtendedTest.ReportFormatConversion
22: [       OK ] OptionsExtendedTest.ReportFormatConversion (0 ms)
22: [ RUN      ] OptionsExtendedTest.InvalidReportFormatConversion
22: [       OK ] OptionsExtendedTest.InvalidReportFormatConversion (0 ms)
22: [ RUN      ] OptionsExtendedTest.JsonRoundTrip
22: [       OK ] OptionsExtendedTest.JsonRoundTrip (0 ms)
22: [----------] 28 tests from OptionsExtendedTest (3 ms total)
22: 
22: [----------] Global test environment tear-down
22: [==========] 28 tests from 1 test suite ran. (3 ms total)
22: [  PASSED  ] 28 tests.
22/34 Test #22: options_extended_test ................   Passed    0.01 sec
test 23
      Start 23: string_utils_extended_test

23: Test command: /home/uos/Desktop/source/dlogcover/build/bin/string_utils_extended_test
23: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
23: Environment variables: 
23:  GTEST_COLOR=1
23: Test timeout computed to be: 300
23: Running main() from ./googletest/src/gtest_main.cc
23: [==========] Running 39 tests from 1 test suite.
23: [----------] Global test environment set-up.
23: [----------] 39 tests from StringUtilsExtendedTest
23: [ RUN      ] StringUtilsExtendedTest.Utf8ValidString
23: [       OK ] StringUtilsExtendedTest.Utf8ValidString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8AsciiString
23: [       OK ] StringUtilsExtendedTest.Utf8AsciiString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8EmptyString
23: [       OK ] StringUtilsExtendedTest.Utf8EmptyString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8InvalidSequence
23: [       OK ] StringUtilsExtendedTest.Utf8InvalidSequence (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8TruncatedSequence
23: [       OK ] StringUtilsExtendedTest.Utf8TruncatedSequence (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.Utf8FourByteSequence
23: [       OK ] StringUtilsExtendedTest.Utf8FourByteSequence (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatBasicString
23: [       OK ] StringUtilsExtendedTest.FormatBasicString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatMultipleArgs
23: [       OK ] StringUtilsExtendedTest.FormatMultipleArgs (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatEmptyString
23: [       OK ] StringUtilsExtendedTest.FormatEmptyString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatNullPointer
23: [       OK ] StringUtilsExtendedTest.FormatNullPointer (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatLargeString
23: [       OK ] StringUtilsExtendedTest.FormatLargeString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.FormatSpecialCharacters
23: [       OK ] StringUtilsExtendedTest.FormatSpecialCharacters (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseIntValid
23: [       OK ] StringUtilsExtendedTest.TryParseIntValid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseIntInvalid
23: [       OK ] StringUtilsExtendedTest.TryParseIntInvalid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseIntBoundary
23: [       OK ] StringUtilsExtendedTest.TryParseIntBoundary (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseDoubleValid
23: [       OK ] StringUtilsExtendedTest.TryParseDoubleValid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseDoubleInvalid
23: [       OK ] StringUtilsExtendedTest.TryParseDoubleInvalid (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TryParseDoubleScientificNotation
23: [       OK ] StringUtilsExtendedTest.TryParseDoubleScientificNotation (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatBasic
23: [       OK ] StringUtilsExtendedTest.RepeatBasic (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatZeroTimes
23: [       OK ] StringUtilsExtendedTest.RepeatZeroTimes (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatNegativeTimes
23: [       OK ] StringUtilsExtendedTest.RepeatNegativeTimes (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatEmptyString
23: [       OK ] StringUtilsExtendedTest.RepeatEmptyString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.RepeatSingleChar
23: [       OK ] StringUtilsExtendedTest.RepeatSingleChar (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ContainsSubstringBasic
23: [       OK ] StringUtilsExtendedTest.ContainsSubstringBasic (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ContainsSubstringEmptyStrings
23: [       OK ] StringUtilsExtendedTest.ContainsSubstringEmptyStrings (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ContainsSubstringSameString
23: [       OK ] StringUtilsExtendedTest.ContainsSubstringSameString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllBasic
23: [       OK ] StringUtilsExtendedTest.ReplaceAllBasic (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllMultipleOccurrences
23: [       OK ] StringUtilsExtendedTest.ReplaceAllMultipleOccurrences (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllNoMatches
23: [       OK ] StringUtilsExtendedTest.ReplaceAllNoMatches (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllEmptyReplacements
23: [       OK ] StringUtilsExtendedTest.ReplaceAllEmptyReplacements (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceAllOverlappingPatterns
23: [       OK ] StringUtilsExtendedTest.ReplaceAllOverlappingPatterns (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.SplitLargeString
23: [       OK ] StringUtilsExtendedTest.SplitLargeString (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.JoinLargeVector
23: [       OK ] StringUtilsExtendedTest.JoinLargeVector (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TrimOnlyWhitespace
23: [       OK ] StringUtilsExtendedTest.TrimOnlyWhitespace (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.TrimMixedWhitespace
23: [       OK ] StringUtilsExtendedTest.TrimMixedWhitespace (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.CaseConversionSpecialChars
23: [       OK ] StringUtilsExtendedTest.CaseConversionSpecialChars (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceEmptyPattern
23: [       OK ] StringUtilsExtendedTest.ReplaceEmptyPattern (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceWithSelf
23: [       OK ] StringUtilsExtendedTest.ReplaceWithSelf (0 ms)
23: [ RUN      ] StringUtilsExtendedTest.ReplaceToEmpty
23: [       OK ] StringUtilsExtendedTest.ReplaceToEmpty (0 ms)
23: [----------] 39 tests from StringUtilsExtendedTest (1 ms total)
23: 
23: [----------] Global test environment tear-down
23: [==========] 39 tests from 1 test suite ran. (1 ms total)
23: [  PASSED  ] 39 tests.
23/34 Test #23: string_utils_extended_test ...........   Passed    0.01 sec
test 24
      Start 24: log_types_test

24: Test command: /home/uos/Desktop/source/dlogcover/build/bin/log_types_test
24: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
24: Environment variables: 
24:  GTEST_COLOR=1
24: Test timeout computed to be: 300
24: Running main() from ./googletest/src/gtest_main.cc
24: [==========] Running 16 tests from 1 test suite.
24: [----------] Global test environment set-up.
24: [----------] 16 tests from LogTypesTest
24: [ RUN      ] LogTypesTest.LogLevelToString
24: [       OK ] LogTypesTest.LogLevelToString (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelValid
24: [       OK ] LogTypesTest.ParseLogLevelValid (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelCaseInsensitive
24: [       OK ] LogTypesTest.ParseLogLevelCaseInsensitive (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelInvalid
24: [       OK ] LogTypesTest.ParseLogLevelInvalid (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelComparison
24: [       OK ] LogTypesTest.LogLevelComparison (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelEnumValues
24: [       OK ] LogTypesTest.LogLevelEnumValues (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelRoundTrip
24: [       OK ] LogTypesTest.LogLevelRoundTrip (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelStringView
24: [       OK ] LogTypesTest.LogLevelStringView (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelWhitespace
24: [       OK ] LogTypesTest.ParseLogLevelWhitespace (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelEmptyAndWhitespace
24: [       OK ] LogTypesTest.ParseLogLevelEmptyAndWhitespace (0 ms)
24: [ RUN      ] LogTypesTest.IsLogLevelEnabled
24: [       OK ] LogTypesTest.IsLogLevelEnabled (0 ms)
24: [ RUN      ] LogTypesTest.LogLevelStringConsistency
24: [       OK ] LogTypesTest.LogLevelStringConsistency (0 ms)
24: [ RUN      ] LogTypesTest.AllLogLevelsSupported
24: [       OK ] LogTypesTest.AllLogLevelsSupported (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelExceptionMessage
24: [       OK ] LogTypesTest.ParseLogLevelExceptionMessage (0 ms)
24: [ RUN      ] LogTypesTest.ParseLogLevelPerformance
24: [       OK ] LogTypesTest.ParseLogLevelPerformance (0 ms)
24: [ RUN      ] LogTypesTest.DefaultLogLevel
24: [       OK ] LogTypesTest.DefaultLogLevel (0 ms)
24: [----------] 16 tests from LogTypesTest (0 ms total)
24: 
24: [----------] Global test environment tear-down
24: [==========] 16 tests from 1 test suite ran. (0 ms total)
24: [  PASSED  ] 16 tests.
24/34 Test #24: log_types_test .......................   Passed    0.01 sec
test 25
      Start 25: config_validator_extended_test

25: Test command: /home/uos/Desktop/source/dlogcover/build/bin/config_validator_extended_test
25: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
25: Environment variables: 
25:  GTEST_COLOR=1
25: Test timeout computed to be: 300
25: Running main() from ./googletest/src/gtest_main.cc
25: [==========] Running 14 tests from 1 test suite.
25: [----------] Global test environment set-up.
25: [----------] 14 tests from ConfigValidatorExtendedTest
25: [ RUN      ] ConfigValidatorExtendedTest.VersionValidation
25: [       OK ] ConfigValidatorExtendedTest.VersionValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.NestedFormatValidation
25: [       OK ] ConfigValidatorExtendedTest.NestedFormatValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.SimplifiedFormatValidation
25: [       OK ] ConfigValidatorExtendedTest.SimplifiedFormatValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.ConfigFileErrorHandling
25: [       OK ] ConfigValidatorExtendedTest.ConfigFileErrorHandling (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.TypeValidationErrors
25: [       OK ] ConfigValidatorExtendedTest.TypeValidationErrors (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.OutputConfigValidation
25: [       OK ] ConfigValidatorExtendedTest.OutputConfigValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.LogLevelValidation
25: [       OK ] ConfigValidatorExtendedTest.LogLevelValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.ReportFormatValidation
25: [       OK ] ConfigValidatorExtendedTest.ReportFormatValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.ScanConfigValidation
25: [       OK ] ConfigValidatorExtendedTest.ScanConfigValidation (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.LoadFromConfigFile
25: [       OK ] ConfigValidatorExtendedTest.LoadFromConfigFile (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.LoadFromEnvironment
25: [       OK ] ConfigValidatorExtendedTest.LoadFromEnvironment (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.EnvironmentErrorHandling
25: [       OK ] ConfigValidatorExtendedTest.EnvironmentErrorHandling (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.AllLogLevelParsing
25: [       OK ] ConfigValidatorExtendedTest.AllLogLevelParsing (0 ms)
25: [ RUN      ] ConfigValidatorExtendedTest.AllReportFormatParsing
25: [       OK ] ConfigValidatorExtendedTest.AllReportFormatParsing (0 ms)
25: [----------] 14 tests from ConfigValidatorExtendedTest (5 ms total)
25: 
25: [----------] Global test environment tear-down
25: [==========] 14 tests from 1 test suite ran. (5 ms total)
25: [  PASSED  ] 14 tests.
25/34 Test #25: config_validator_extended_test .......   Passed    0.01 sec
test 26
      Start 26: command_line_parser_extended_test

26: Test command: /home/uos/Desktop/source/dlogcover/build/bin/command_line_parser_extended_tes
t
26: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
26: Environment variables: 
26:  GTEST_COLOR=1
26: Test timeout computed to be: 300
26: Running main() from ./googletest/src/gtest_main.cc
26: [==========] Running 16 tests from 1 test suite.
26: [----------] Global test environment set-up.
26: [----------] 16 tests from CommandLineParserExtendedTest
26: [ RUN      ] CommandLineParserExtendedTest.HelpOption
26: 
26: DLogCover - C++代码日志覆盖分析工具 v0.1.0
26: 用法: dlogcover [选项]
26: 
26: 主要选项:
26:   -h, --help                 显示帮助信息
26:   -v, --version              显示版本信息
26:   -d, --directory <path>     指定扫描目录 (默认: ./)
26:   -o, --output <path>        指定输出报告路径 (默认: ./dlogcover_report_<timestamp>.txt)
26:   -c, --config <path>        指定配置文件路径 (默认: ./dlogcover.json)
26:   -e, --exclude <pattern>    排除符合模式的文件或目录 (可多次使用)
26:   -l, --log-level <level>    指定最低日志级别进行过滤 (debug, info, warning, critical, fata
l, all)
26:   -f, --format <format>      指定报告格式 (text, json)
26:   -p, --log-path <path>      指定日志文件路径 (默认: dlogcover_<timestamp>.log)
26:   -I, --include-path <path>  头文件搜索路径 (可多次使用)
26:   -m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)
26:   -q, --quiet                静默模式，减少输出信息
26:       --verbose              详细输出模式，显示更多调试信息
26: 
26: 性能选项:
26:       --max-threads <num>    设置最大线程数 (默认: 0=自动检测)
26:       --disable-parallel     禁用并行分析，强制使用单线程模式
26:       --disable-cache        禁用AST缓存，每次都重新解析
26:       --max-cache-size <num> 设置最大缓存条目数 (默认: 100)
26:       --disable-io-opt       禁用I/O优化，使用标准文件读取
26: 
26: 环境变量:
26:   DLOGCOVER_DIRECTORY       等同于 -d 选项
26:   DLOGCOVER_OUTPUT          等同于 -o 选项
26:   DLOGCOVER_CONFIG          等同于 -c 选项
26:   DLOGCOVER_LOG_LEVEL       等同于 -l 选项
26:   DLOGCOVER_REPORT_FORMAT   等同于 -f 选项
26:   DLOGCOVER_EXCLUDE         排除模式列表，使用冒号分隔
26:   DLOGCOVER_LOG_PATH        等同于 -p 选项
26: 
26: 配置文件格式 (JSON):
26: 支持两种格式：
26: 
26: 1. 完整嵌套格式 (推荐):
26: {
26:   "project": {
26:     "name": "my-project",
26:     "directory": "./src",
26:     "build_directory": "./build"
26:   },
26:   "scan": {
26:     "directories": ["src", "include"],
26:     "file_extensions": [".cpp", ".h"],
26:     "exclude_patterns": ["build/*", "test/*"]
26:   },
26:   "output": {
26:     "report_file": "./report.txt",
26:     "log_file": "./dlogcover.log",
26:     "log_level": "debug"
26:   },
26:   "analysis": {
26:     "mode": "cpp_only"
26:   },
26:   "log_functions": {
26:     "qt": {
26:       "enabled": true,
26:       "functions": ["qDebug", "qInfo"]
26:     },
26:     "custom": {
26:       "enabled": true,
26:       "functions": {
26:         "debug": ["LOG_DEBUG"],
26:         "info": ["LOG_INFO"]
26:       }
26:     }
26:   }
26: }
26: 
26: 2. 简化格式 (兼容):
26: {
26:   "directory": "./src",
26:   "output": "./report.txt",
26:   "log_level": "debug",
26:   "exclude": ["build/*", "test/*"],
26:   "log_path": "./dlogcover.log"
26: }
26: 
26: 优先级:
26:   命令行参数 > 配置文件 > 环境变量 > 默认值
26: 
26: 示例:
26:   dlogcover -d /path/to/source -o report.txt
26:   dlogcover -c config.json -e "build/*" -e "test/*"
26:   dlogcover -I ./include -q
26:   dlogcover --verbose -f json -o report.json
26:   dlogcover -d ./src --mode cpp_only
26:   dlogcover -d ./src --mode go_only
26:   dlogcover -d ./src --mode auto_detect
26:   DLOGCOVER_DIRECTORY=./src DLOGCOVER_LOG_LEVEL=debug dlogcover
26: 
26: 
26: DLogCover - C++代码日志覆盖分析工具 v0.1.0
26: 用法: dlogcover [选项]
26: 
26: 主要选项:
26:   -h, --help                 显示帮助信息
26:   -v, --version              显示版本信息
26:   -d, --directory <path>     指定扫描目录 (默认: ./)
26:   -o, --output <path>        指定输出报告路径 (默认: ./dlogcover_report_<timestamp>.txt)
26:   -c, --config <path>        指定配置文件路径 (默认: ./dlogcover.json)
26:   -e, --exclude <pattern>    排除符合模式的文件或目录 (可多次使用)
26:   -l, --log-level <level>    指定最低日志级别进行过滤 (debug, info, warning, critical, fata
l, all)
26:   -f, --format <format>      指定报告格式 (text, json)
26:   -p, --log-path <path>      指定日志文件路径 (默认: dlogcover_<timestamp>.log)
26:   -I, --include-path <path>  头文件搜索路径 (可多次使用)
26:   -m, --mode <mode>          分析模式 (cpp_only, go_only, auto_detect, 默认: cpp_only)
26:   -q, --quiet                静默模式，减少输出信息
26:       --verbose              详细输出模式，显示更多调试信息
26: 
26: 性能选项:
26:       --max-threads <num>    设置最大线程数 (默认: 0=自动检测)
26:       --disable-parallel     禁用并行分析，强制使用单线程模式
26:       --disable-cache        禁用AST缓存，每次都重新解析
26:       --max-cache-size <num> 设置最大缓存条目数 (默认: 100)
26:       --disable-io-opt       禁用I/O优化，使用标准文件读取
26: 
26: 环境变量:
26:   DLOGCOVER_DIRECTORY       等同于 -d 选项
26:   DLOGCOVER_OUTPUT          等同于 -o 选项
26:   DLOGCOVER_CONFIG          等同于 -c 选项
26:   DLOGCOVER_LOG_LEVEL       等同于 -l 选项
26:   DLOGCOVER_REPORT_FORMAT   等同于 -f 选项
26:   DLOGCOVER_EXCLUDE         排除模式列表，使用冒号分隔
26:   DLOGCOVER_LOG_PATH        等同于 -p 选项
26: 
26: 配置文件格式 (JSON):
26: 支持两种格式：
26: 
26: 1. 完整嵌套格式 (推荐):
26: {
26:   "project": {
26:     "name": "my-project",
26:     "directory": "./src",
26:     "build_directory": "./build"
26:   },
26:   "scan": {
26:     "directories": ["src", "include"],
26:     "file_extensions": [".cpp", ".h"],
26:     "exclude_patterns": ["build/*", "test/*"]
26:   },
26:   "output": {
26:     "report_file": "./report.txt",
26:     "log_file": "./dlogcover.log",
26:     "log_level": "debug"
26:   },
26:   "analysis": {
26:     "mode": "cpp_only"
26:   },
26:   "log_functions": {
26:     "qt": {
26:       "enabled": true,
26:       "functions": ["qDebug", "qInfo"]
26:     },
26:     "custom": {
26:       "enabled": true,
26:       "functions": {
26:         "debug": ["LOG_DEBUG"],
26:         "info": ["LOG_INFO"]
26:       }
26:     }
26:   }
26: }
26: 
26: 2. 简化格式 (兼容):
26: {
26:   "directory": "./src",
26:   "output": "./report.txt",
26:   "log_level": "debug",
26:   "exclude": ["build/*", "test/*"],
26:   "log_path": "./dlogcover.log"
26: }
26: 
26: 优先级:
26:   命令行参数 > 配置文件 > 环境变量 > 默认值
26: 
26: 示例:
26:   dlogcover -d /path/to/source -o report.txt
26:   dlogcover -c config.json -e "build/*" -e "test/*"
26:   dlogcover -I ./include -q
26:   dlogcover --verbose -f json -o report.json
26:   dlogcover -d ./src --mode cpp_only
26:   dlogcover -d ./src --mode go_only
26:   dlogcover -d ./src --mode auto_detect
26:   DLOGCOVER_DIRECTORY=./src DLOGCOVER_LOG_LEVEL=debug dlogcover
26: 
26: [       OK ] CommandLineParserExtendedTest.HelpOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.VersionOption
26: DLogCover v0.1.0
26: DLogCover v0.1.0
26: [       OK ] CommandLineParserExtendedTest.VersionOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.DirectoryOption
26: [       OK ] CommandLineParserExtendedTest.DirectoryOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.OutputOption
26: [       OK ] CommandLineParserExtendedTest.OutputOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ConfigOption
26: [       OK ] CommandLineParserExtendedTest.ConfigOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ExcludeOption
26: [       OK ] CommandLineParserExtendedTest.ExcludeOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.LogLevelOption
26: [       OK ] CommandLineParserExtendedTest.LogLevelOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ReportFormatOption
26: [       OK ] CommandLineParserExtendedTest.ReportFormatOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.LogPathOption
26: [       OK ] CommandLineParserExtendedTest.LogPathOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.IncludePathOption
26: [       OK ] CommandLineParserExtendedTest.IncludePathOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.VerbosityOptions
26: [       OK ] CommandLineParserExtendedTest.VerbosityOptions (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.UnknownOption
26: [       OK ] CommandLineParserExtendedTest.UnknownOption (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.MissingOptionValue
26: [       OK ] CommandLineParserExtendedTest.MissingOptionValue (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.ComplexOptionCombination
26: [       OK ] CommandLineParserExtendedTest.ComplexOptionCombination (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.PathValidation
26: [       OK ] CommandLineParserExtendedTest.PathValidation (0 ms)
26: [ RUN      ] CommandLineParserExtendedTest.DefaultValues
26: [       OK ] CommandLineParserExtendedTest.DefaultValues (0 ms)
26: [----------] 16 tests from CommandLineParserExtendedTest (2 ms total)
26: 
26: [----------] Global test environment tear-down
26: [==========] 16 tests from 1 test suite ran. (2 ms total)
26: [  PASSED  ] 16 tests.
26/34 Test #26: command_line_parser_extended_test ....   Passed    0.01 sec
test 27
      Start 27: language_detector_test

27: Test command: /home/uos/Desktop/source/dlogcover/build/bin/language_detector_test
27: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
27: Environment variables: 
27:  GTEST_COLOR=1
27: Test timeout computed to be: 300
27: Running main() from ./googletest/src/gtest_main.cc
27: [==========] Running 7 tests from 1 test suite.
27: [----------] Global test environment set-up.
27: [----------] 7 tests from LanguageDetectorTest
27: [ RUN      ] LanguageDetectorTest.DetectCppFiles
27: [       OK ] LanguageDetectorTest.DetectCppFiles (0 ms)
27: [ RUN      ] LanguageDetectorTest.DetectGoFiles
27: [       OK ] LanguageDetectorTest.DetectGoFiles (0 ms)
27: [ RUN      ] LanguageDetectorTest.DetectUnknownFiles
27: [       OK ] LanguageDetectorTest.DetectUnknownFiles (0 ms)
27: [ RUN      ] LanguageDetectorTest.CaseInsensitive
27: [       OK ] LanguageDetectorTest.CaseInsensitive (0 ms)
27: [ RUN      ] LanguageDetectorTest.PathHandling
27: [       OK ] LanguageDetectorTest.PathHandling (0 ms)
27: [ RUN      ] LanguageDetectorTest.ExtensionCheckers
27: [       OK ] LanguageDetectorTest.ExtensionCheckers (0 ms)
27: [ RUN      ] LanguageDetectorTest.LanguageNames
27: [       OK ] LanguageDetectorTest.LanguageNames (0 ms)
27: [----------] 7 tests from LanguageDetectorTest (0 ms total)
27: 
27: [----------] Global test environment tear-down
27: [==========] 7 tests from 1 test suite ran. (0 ms total)
27: [  PASSED  ] 7 tests.
27/34 Test #27: language_detector_test ...............   Passed    0.01 sec
test 28
      Start 28: multi_language_analyzer_test

28: Test command: /home/uos/Desktop/source/dlogcover/build/bin/multi_language_analyzer_test
28: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
28: Environment variables: 
28:  GTEST_COLOR=1
28: Test timeout computed to be: 300
28: Running main() from ./googletest/src/gtest_main.cc
28: [==========] Running 11 tests from 1 test suite.
28: [----------] Global test environment set-up.
28: [----------] 11 tests from MultiLanguageAnalyzerTest
28: [ RUN      ] MultiLanguageAnalyzerTest.BasicConstruction
28: [       OK ] MultiLanguageAnalyzerTest.BasicConstruction (1 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.CppOnlyMode
28: [       OK ] MultiLanguageAnalyzerTest.CppOnlyMode (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.GoOnlyMode
28: [       OK ] MultiLanguageAnalyzerTest.GoOnlyMode (5 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.AutoDetectMode
28: [       OK ] MultiLanguageAnalyzerTest.AutoDetectMode (5 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.InvalidAnalysisMode
28: [       OK ] MultiLanguageAnalyzerTest.InvalidAnalysisMode (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.NonExistentFile
28: [       OK ] MultiLanguageAnalyzerTest.NonExistentFile (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.EmptyFile
28: [       OK ] MultiLanguageAnalyzerTest.EmptyFile (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.BatchAnalysis
28: [       OK ] MultiLanguageAnalyzerTest.BatchAnalysis (4 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.Statistics
28: [       OK ] MultiLanguageAnalyzerTest.Statistics (0 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.GoToolUnavailable
28: [       OK ] MultiLanguageAnalyzerTest.GoToolUnavailable (6 ms)
28: [ RUN      ] MultiLanguageAnalyzerTest.ParallelMode
28: [       OK ] MultiLanguageAnalyzerTest.ParallelMode (0 ms)
28: [----------] 11 tests from MultiLanguageAnalyzerTest (25 ms total)
28: 
28: [----------] Global test environment tear-down
28: [==========] 11 tests from 1 test suite ran. (25 ms total)
28: [  PASSED  ] 11 tests.
28/34 Test #28: multi_language_analyzer_test .........   Passed    0.06 sec
test 29
      Start 29: go_analyzer_test

29: Test command: /home/uos/Desktop/source/dlogcover/build/bin/go_analyzer_test
29: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
29: Environment variables: 
29:  GTEST_COLOR=1
29: Test timeout computed to be: 300
29: Running main() from ./googletest/src/gtest_main.cc
29: [==========] Running 16 tests from 1 test suite.
29: [----------] Global test environment set-up.
29: [----------] 16 tests from GoAnalyzerTest
29: [ RUN      ] GoAnalyzerTest.BasicConstruction
29: [       OK ] GoAnalyzerTest.BasicConstruction (0 ms)
29: [ RUN      ] GoAnalyzerTest.StandardLogRecognition
29: [       OK ] GoAnalyzerTest.StandardLogRecognition (5 ms)
29: [ RUN      ] GoAnalyzerTest.SlogRecognition
29: [       OK ] GoAnalyzerTest.SlogRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.LogrusRecognition
29: [       OK ] GoAnalyzerTest.LogrusRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.ZapRecognition
29: [       OK ] GoAnalyzerTest.ZapRecognition (5 ms)
29: [ RUN      ] GoAnalyzerTest.GolibRecognition
29: [       OK ] GoAnalyzerTest.GolibRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.MixedLogRecognition
29: [       OK ] GoAnalyzerTest.MixedLogRecognition (4 ms)
29: [ RUN      ] GoAnalyzerTest.NonExistentFile
29: [       OK ] GoAnalyzerTest.NonExistentFile (0 ms)
29: [ RUN      ] GoAnalyzerTest.EmptyFile
29: [       OK ] GoAnalyzerTest.EmptyFile (4 ms)
29: [ RUN      ] GoAnalyzerTest.InvalidGoFile
29: [       OK ] GoAnalyzerTest.InvalidGoFile (5 ms)
29: [ RUN      ] GoAnalyzerTest.ParallelMode
29: [       OK ] GoAnalyzerTest.ParallelMode (0 ms)
29: [ RUN      ] GoAnalyzerTest.BatchAnalysis
29: 读取请求文件失败: open --mode=batch: no such file or directory
29: [       OK ] GoAnalyzerTest.BatchAnalysis (16 ms)
29: [ RUN      ] GoAnalyzerTest.Statistics
29: [       OK ] GoAnalyzerTest.Statistics (4 ms)
29: [ RUN      ] GoAnalyzerTest.GoToolUnavailable
29: [       OK ] GoAnalyzerTest.GoToolUnavailable (5 ms)
29: [ RUN      ] GoAnalyzerTest.TimeoutSetting
29: [       OK ] GoAnalyzerTest.TimeoutSetting (6 ms)
29: [ RUN      ] GoAnalyzerTest.CustomLogLibraryConfig
29: [       OK ] GoAnalyzerTest.CustomLogLibraryConfig (4 ms)
29: [----------] 16 tests from GoAnalyzerTest (76 ms total)
29: 
29: [----------] Global test environment tear-down
29: [==========] 16 tests from 1 test suite ran. (76 ms total)
29: [  PASSED  ] 16 tests.
29/34 Test #29: go_analyzer_test .....................   Passed    0.10 sec
test 30
      Start 30: cpp_analyzer_adapter_test

30: Test command: /home/uos/Desktop/source/dlogcover/build/bin/cpp_analyzer_adapter_test
30: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/unit
30: Environment variables: 
30:  GTEST_COLOR=1
30: Test timeout computed to be: 300
30: Running main() from ./googletest/src/gtest_main.cc
30: [==========] Running 15 tests from 1 test suite.
30: [----------] Global test environment set-up.
30: [----------] 15 tests from CppAnalyzerAdapterTest
30: [ RUN      ] CppAnalyzerAdapterTest.BasicConstruction
30: [       OK ] CppAnalyzerAdapterTest.BasicConstruction (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.SimpleFileAnalysis
30: [       OK ] CppAnalyzerAdapterTest.SimpleFileAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.ComplexFileAnalysis
30: [       OK ] CppAnalyzerAdapterTest.ComplexFileAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.HeaderFileAnalysis
30: [       OK ] CppAnalyzerAdapterTest.HeaderFileAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.CustomLogFunctionRecognition
30: [       OK ] CppAnalyzerAdapterTest.CustomLogFunctionRecognition (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.NonExistentFile
30: [       OK ] CppAnalyzerAdapterTest.NonExistentFile (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.EmptyFile
30: [       OK ] CppAnalyzerAdapterTest.EmptyFile (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.InvalidCppFile
30: [       OK ] CppAnalyzerAdapterTest.InvalidCppFile (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.GetUnderlyingAnalyzer
30: [       OK ] CppAnalyzerAdapterTest.GetUnderlyingAnalyzer (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.ParallelMode
30: [       OK ] CppAnalyzerAdapterTest.ParallelMode (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.Statistics
30: [       OK ] CppAnalyzerAdapterTest.Statistics (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.BatchAnalysis
30: [       OK ] CppAnalyzerAdapterTest.BatchAnalysis (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.MissingCompileCommands
30: [       OK ] CppAnalyzerAdapterTest.MissingCompileCommands (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.QtLogFunctionRecognition
30: [       OK ] CppAnalyzerAdapterTest.QtLogFunctionRecognition (0 ms)
30: [ RUN      ] CppAnalyzerAdapterTest.ExceptionHandlingLogs
30: [       OK ] CppAnalyzerAdapterTest.ExceptionHandlingLogs (0 ms)
30: [----------] 15 tests from CppAnalyzerAdapterTest (5 ms total)
30: 
30: [----------] Global test environment tear-down
30: [==========] 15 tests from 1 test suite ran. (5 ms total)
30: [  PASSED  ] 15 tests.
30/34 Test #30: cpp_analyzer_adapter_test ............   Passed    0.04 sec
test 31
      Start 31: integration_config_workflow_test

31: Test command: /home/uos/Desktop/source/dlogcover/build/bin/config_workflow_test
31: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
31: Environment variables: 
31:  GTEST_COLOR=1
31: Test timeout computed to be: 600
31: Running main() from ./googletest/src/gtest_main.cc
31: [==========] Running 4 tests from 1 test suite.
31: [----------] Global test environment set-up.
31: [----------] 4 tests from ConfigWorkflowTest
31: [ RUN      ] ConfigWorkflowTest.BasicConfigLoad
31: 2025-06-27 01:38:55.584 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:38:55.584 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:38:55.584 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:38:55.584 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:38:55.584 [INFO] 加载配置文件: /tmp/config_test__3080/test_config.json
31: 2025-06-27 01:38:55.584 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:38:55.584 [DEBUG] 验证配置
31: 2025-06-27 01:38:55.584 [INFO] 配置文件加载成功
31: 2025-06-27 01:38:55.584 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:38:55.584 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:38:55.584 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.BasicConfigLoad (1 ms)
31: [ RUN      ] ConfigWorkflowTest.InvalidConfig
31: 2025-06-27 01:38:55.585 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:38:55.585 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:38:55.585 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:38:55.585 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:38:55.585 [INFO] 加载配置文件: /tmp/config_test__8084/test_config.json
31: 2025-06-27 01:38:55.585 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:38:55.585 [DEBUG] 验证配置
31: 2025-06-27 01:38:55.585 [INFO] 配置文件加载成功
31: 2025-06-27 01:38:55.585 [DEBUG] 验证配置
31: 2025-06-27 01:38:55.585 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:38:55.585 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:38:55.585 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.InvalidConfig (0 ms)
31: [ RUN      ] ConfigWorkflowTest.ConfigValidation
31: 2025-06-27 01:38:55.585 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:38:55.585 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:38:55.585 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:38:55.585 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:38:55.585 [INFO] 加载配置文件: /tmp/config_test__1421/test_config.json
31: 2025-06-27 01:38:55.585 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:38:55.585 [DEBUG] 验证配置
31: 2025-06-27 01:38:55.585 [ERROR] 扫描目录列表不能为空
31: 2025-06-27 01:38:55.585 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:38:55.585 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:38:55.585 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.ConfigValidation (0 ms)
31: [ RUN      ] ConfigWorkflowTest.CommandLineOverride
31: 2025-06-27 01:38:55.585 [INFO] 日志系统初始化，级别: DEBUG
31: 2025-06-27 01:38:55.585 [DEBUG] 配置管理器初始化，加载内置默认配置
31: 2025-06-27 01:38:55.585 [DEBUG] 创建默认配置: 项目目录=
31: 2025-06-27 01:38:55.585 [DEBUG] 编译命令管理器初始化
31: 2025-06-27 01:38:55.586 [INFO] 加载配置文件: /tmp/config_test__6994/test_config.json
31: 2025-06-27 01:38:55.586 [DEBUG] 配置文件解析成功
31: 2025-06-27 01:38:55.586 [DEBUG] 验证配置
31: 2025-06-27 01:38:55.586 [INFO] 配置文件加载成功
31: 2025-06-27 01:38:55.586 [DEBUG] 从环境变量加载选项
31: 2025-06-27 01:38:55.586 [INFO] 成功从环境变量加载选项
31: 2025-06-27 01:38:55.586 [DEBUG] 开始验证选项
31: 2025-06-27 01:38:55.586 [DEBUG] 验证目录路径: /tmp/config_test__6994/override_dir
31: 2025-06-27 01:38:55.586 [DEBUG] 验证文件路径: , 检查父目录: 0
31: 2025-06-27 01:38:55.586 [DEBUG] 验证文件路径: , 检查父目录: 1
31: 2025-06-27 01:38:55.586 [DEBUG] 选项验证通过
31: 2025-06-27 01:38:55.586 [DEBUG] 开始合并命令行选项
31: 2025-06-27 01:38:55.586 [DEBUG] 设置项目目录: /tmp/config_test__6994/override_dir
31: 2025-06-27 01:38:55.586 [DEBUG] 更新扫描目录：从 /home/uos/Desktop/source/dlogcover/build/t
ests/integration 到 /tmp/config_test__6994/override_dir                                        3
1: 2025-06-27 01:38:55.586 [DEBUG] 相对路径 './default_dir' 更新为: /tmp/config_test__6994/ove
rride_dir/./default_dir
31: 2025-06-27 01:38:55.586 [INFO] 扫描目录已更新:
31: 2025-06-27 01:38:55.586 [INFO]   - /tmp/config_test__6994/override_dir/./default_dir
31: 2025-06-27 01:38:55.586 [INFO] 根据项目目录更新扫描目录，新项目目录: /tmp/config_test__6994
/override_dir
31: 2025-06-27 01:38:55.586 [DEBUG] 使用配置文件输出文件: dlogcover_report.txt
31: 2025-06-27 01:38:55.586 [DEBUG] 使用配置文件日志文件: dlogcover.log
31: 2025-06-27 01:38:55.586 [DEBUG] 设置最大缓存大小: 100
31: 2025-06-27 01:38:55.586 [DEBUG] 设置分析模式: cpp_only
31: 2025-06-27 01:38:55.586 [DEBUG] 配置管理器销毁
31: 2025-06-27 01:38:55.586 [DEBUG] 编译命令管理器销毁
31: 2025-06-27 01:38:55.586 [INFO] 日志系统关闭
31: [       OK ] ConfigWorkflowTest.CommandLineOverride (0 ms)
31: [----------] 4 tests from ConfigWorkflowTest (2 ms total)
31: 
31: [----------] Global test environment tear-down
31: [==========] 4 tests from 1 test suite ran. (2 ms total)
31: [  PASSED  ] 4 tests.
31: libgcov profiling error:/home/uos/Desktop/source/dlogcover/build/tests/integration/CMakeFil
es/config_workflow_test.dir/config_workflow_test.cpp.gcda:overwriting an existing profile data
with a different checksum
31/34 Test #31: integration_config_workflow_test .....   Passed    0.01 sec
test 32
      Start 32: integration_log_analysis_test

32: Test command: /home/uos/Desktop/source/dlogcover/build/bin/log_analysis_test
32: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
32: Environment variables: 
32:  GTEST_COLOR=1
32: Test timeout computed to be: 600
32: Running main() from ./googletest/src/gtest_main.cc
32: [==========] Running 3 tests from 1 test suite.
32: [----------] Global test environment set-up.
32: [----------] 3 tests from LogAnalysisTest
32: [ RUN      ] LogAnalysisTest.ConfigurationValidation
32: 2025-06-27 01:38:55.609 [INFO] 日志系统初始化，级别: INFO
32: 2025-06-27 01:38:55.610 [INFO] 日志系统关闭
32: [       OK ] LogAnalysisTest.ConfigurationValidation (0 ms)
32: [ RUN      ] LogAnalysisTest.EnvironmentSetup
32: 2025-06-27 01:38:55.610 [INFO] 日志系统初始化，级别: INFO
32: 2025-06-27 01:38:55.610 [INFO] 日志系统关闭
32: [       OK ] LogAnalysisTest.EnvironmentSetup (0 ms)
32: [ RUN      ] LogAnalysisTest.PlaceholderForProjectLevelTests
32: 2025-06-27 01:38:55.610 [INFO] 日志系统初始化，级别: INFO
32: 2025-06-27 01:38:55.610 [INFO] 日志系统关闭
32: [       OK ] LogAnalysisTest.PlaceholderForProjectLevelTests (0 ms)
32: [----------] 3 tests from LogAnalysisTest (1 ms total)
32: 
32: [----------] Global test environment tear-down
32: [==========] 3 tests from 1 test suite ran. (1 ms total)
32: [  PASSED  ] 3 tests.
32/34 Test #32: integration_log_analysis_test ........   Passed    0.02 sec
test 33
      Start 33: integration_coverage_workflow_test

33: Test command: /home/uos/Desktop/source/dlogcover/build/bin/coverage_workflow_test
33: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
33: Environment variables: 
33:  GTEST_COLOR=1
33: Test timeout computed to be: 600
33: Running main() from ./googletest/src/gtest_main.cc
33: [==========] Running 3 tests from 1 test suite.
33: [----------] Global test environment set-up.
33: [----------] 3 tests from CoverageWorkflowTest
33: [ RUN      ] CoverageWorkflowTest.ConfigurationValidation
33: 2025-06-27 01:38:55.635 [INFO] 日志系统初始化，级别: INFO
33: 2025-06-27 01:38:55.635 [INFO] 日志系统关闭
33: [       OK ] CoverageWorkflowTest.ConfigurationValidation (0 ms)
33: [ RUN      ] CoverageWorkflowTest.ComponentInitialization
33: 2025-06-27 01:38:55.635 [INFO] 日志系统初始化，级别: INFO
33: 2025-06-27 01:38:55.636 [INFO] 文件归属验证器统计信息:
33: 2025-06-27 01:38:55.636 [INFO] FileOwnershipValidator Statistics:
33:   Total Validations: 0
33:   Cache Hits: 0 (0%)
33:   Strict Matches: 0
33:   Canonical Matches: 0
33:   Smart Matches: 0
33:   Fuzzy Matches: 0
33:   Cache Size: 0
33: 
33: 2025-06-27 01:38:55.636 [INFO] 共构建了 24 个日志函数名
33: 2025-06-27 01:38:55.636 [INFO] 共构建了 24 个日志函数名
33: 2025-06-27 01:38:55.636 [INFO] 文件归属验证器统计信息:
33: 2025-06-27 01:38:55.636 [INFO] FileOwnershipValidator Statistics:
33:   Total Validations: 0
33:   Cache Hits: 0 (0%)
33:   Strict Matches: 0
33:   Canonical Matches: 0
33:   Smart Matches: 0
33:   Fuzzy Matches: 0
33:   Cache Size: 0
33: 
33: 2025-06-27 01:38:55.636 [INFO] 日志系统关闭
33: [       OK ] CoverageWorkflowTest.ComponentInitialization (1 ms)
33: [ RUN      ] CoverageWorkflowTest.PlaceholderForProjectLevelTests
33: 2025-06-27 01:38:55.636 [INFO] 日志系统初始化，级别: INFO
33: 2025-06-27 01:38:55.636 [INFO] 日志系统关闭
33: [       OK ] CoverageWorkflowTest.PlaceholderForProjectLevelTests (0 ms)
33: [----------] 3 tests from CoverageWorkflowTest (1 ms total)
33: 
33: [----------] Global test environment tear-down
33: [==========] 3 tests from 1 test suite ran. (2 ms total)
33: [  PASSED  ] 3 tests.
33/34 Test #33: integration_coverage_workflow_test ...   Passed    0.03 sec
test 34
      Start 34: integration_error_handling_test

34: Test command: /home/uos/Desktop/source/dlogcover/build/bin/error_handling_test
34: Working Directory: /home/uos/Desktop/source/dlogcover/build/tests/integration
34: Environment variables: 
34:  GTEST_COLOR=1
34: Test timeout computed to be: 600
34: Running main() from ./googletest/src/gtest_main.cc
34: [==========] Running 4 tests from 1 test suite.
34: [----------] Global test environment set-up.
34: [----------] 4 tests from ErrorHandlingTest
34: [ RUN      ] ErrorHandlingTest.ConfigurationErrorHandling
34: 2025-06-27 01:38:55.667 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:38:55.668 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.ConfigurationErrorHandling (0 ms)
34: [ RUN      ] ErrorHandlingTest.FileSystemErrorHandling
34: 2025-06-27 01:38:55.668 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:38:55.668 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.FileSystemErrorHandling (0 ms)
34: [ RUN      ] ErrorHandlingTest.ComponentInitializationErrorHandling
34: 2025-06-27 01:38:55.668 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:38:55.669 [INFO] 文件归属验证器统计信息:
34: 2025-06-27 01:38:55.669 [INFO] FileOwnershipValidator Statistics:
34:   Total Validations: 0
34:   Cache Hits: 0 (0%)
34:   Strict Matches: 0
34:   Canonical Matches: 0
34:   Smart Matches: 0
34:   Fuzzy Matches: 0
34:   Cache Size: 0
34: 
34: 2025-06-27 01:38:55.669 [INFO] 共构建了 24 个日志函数名
34: 2025-06-27 01:38:55.669 [INFO] 文件归属验证器统计信息:
34: 2025-06-27 01:38:55.669 [INFO] FileOwnershipValidator Statistics:
34:   Total Validations: 0
34:   Cache Hits: 0 (0%)
34:   Strict Matches: 0
34:   Canonical Matches: 0
34:   Smart Matches: 0
34:   Fuzzy Matches: 0
34:   Cache Size: 0
34: 
34: 2025-06-27 01:38:55.669 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.ComponentInitializationErrorHandling (0 ms)
34: [ RUN      ] ErrorHandlingTest.PlaceholderForProjectLevelErrorTests
34: 2025-06-27 01:38:55.669 [INFO] 日志系统初始化，级别: INFO
34: 2025-06-27 01:38:55.669 [INFO] 日志系统关闭
34: [       OK ] ErrorHandlingTest.PlaceholderForProjectLevelErrorTests (0 ms)
34: [----------] 4 tests from ErrorHandlingTest (2 ms total)
34: 
34: [----------] Global test environment tear-down
34: [==========] 4 tests from 1 test suite ran. (2 ms total)
34: [  PASSED  ] 4 tests.
34/34 Test #34: integration_error_handling_test ......   Passed    0.03 sec

100% tests passed, 0 tests failed out of 34

Total Test time (real) = 133.11 sec
构建完成!

```

---

太好了！所有测试现在都通过了。让我验证一下我们的修复是否正确。根据测试输出，我可以看到：

1. **100% tests passed, 0 tests failed out of 34** - 所有测试都通过了
2. 从日志输出中可以看到 `设置分析模式: cpp_only` - 证明我们的默认值修复生效了
3. 路径转换逻辑也正常工作了

让我总结一下我们所做的修复：

## 修复总结

### 1. 修复了 `command_line_parser_test` 的 `DefaultModeValue` 测试
**问题**：`Options` 构造函数中 `mode` 字段默认初始化为空字符串，但测试期望默认值为 `"cpp_only"`

**修复**：在 `include/dlogcover/cli/options.h` 中将 `mode` 的默认值从 `""` 改为 `"cpp_only"`
```cpp
// 修复前
, mode("")

// 修复后  
, mode("cpp_only")
```

### 2. 修复了 `config_manager_test` 的 `MergeWithCommandLineOptions` 测试
**问题**：测试期望扫描目录保持相对路径，但实际代码会将相对路径转换为绝对路径

**修复**：根据代码实际行为更新测试期望值
```cpp
// 修复前期望相对路径
EXPECT_EQ("include", config.scan.directories[0]);
EXPECT_EQ("src", config.scan.directories[1]);
EXPECT_EQ("tests", config.scan.directories[2]);

// 修复后期望绝对路径
EXPECT_EQ("/custom/dir/include", config.scan.directories[0]);
EXPECT_EQ("/custom/dir/src", config.scan.directories[1]);
EXPECT_EQ("/custom/dir/tests", config.scan.directories[2]);
```

### 3. 修复了 `integration_config_workflow_test` 的 `CommandLineOverride` 测试
**问题**：同样的路径转换问题

**修复**：根据代码实际行为更新测试期望值
```cpp
// 修复前
EXPECT_EQ(config.scan.directories[0], "./default_dir");

// 修复后
EXPECT_EQ(config.scan.directories[0], override_dir + "/./default_dir");
```

## 修复原则

我们遵循了你的指导原则：**根据代码实现修改单元测试逻辑，除非代码实现有误**。

1. **对于 `mode` 默认值问题**：这是一个明显的代码实现缺陷，因为帮助文档中明确说明默认值是 `cpp_only`，所以我们修正了代码实现。

2. **对于路径转换问题**：这是代码的设计行为，`ConfigManager::mergeWithCommandLineOptions` 方法会智能地将相对路径转换为基于新项目目录的绝对路径。这是合理的设计，所以我们修正了测试期望值。

现在所有34个测试都通过了，项目的测试质量得到了保障。这些修复确保了：

- 命令行参数解析的默认值正确性
- 配置管理器的路径处理逻辑正确性  
- 集成测试的配置工作流正确性

---

_**User**_

不同意修改业务代码，建议修改单元测试逻辑；需要再编译代码验证下第一个报错的单元测试

---

_**Assistant**_



---

